/*! For license information please see waveform-playlist.js.LICENSE.txt */
var WaveformPlaylist;(()=>{var t={7135:(t,e,n)=>{t.exports=n(6248)},8098:t=>{t.exports=function(t){var e,n=String.prototype.split,r=/()??/.exec("")[1]===t;return e=function(e,i,a){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(e,i,a);var o,s,u,c,l=[],f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0;for(i=new RegExp(i.source,f+"g"),e+="",r||(o=new RegExp("^"+i.source+"$(?!\\s)",f)),a=a===t?-1>>>0:a>>>0;(s=i.exec(e))&&!((u=s.index+s[0].length)>h&&(l.push(e.slice(h,s.index)),!r&&s.length>1&&s[0].replace(o,(function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(s[e]=t)})),s.length>1&&s.index<e.length&&Array.prototype.push.apply(l,s.slice(1)),c=s[0].length,h=u,l.length>=a));)i.lastIndex===s.index&&i.lastIndex++;return h===e.length?!c&&i.test("")||l.push(""):l.push(e.slice(h)),l.length>a?l.slice(0,a):l},e}()},7296:(t,e,n)=>{"use strict";var r=n(1102),i=n(2307),a=n(4339),o=n(3957),s=n(3246);(t.exports=function(t,e){var n,i,u,c,l;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],r(t)?(n=s.call(t,"c"),i=s.call(t,"e"),u=s.call(t,"w")):(n=u=!0,i=!1),l={value:e,configurable:n,enumerable:i,writable:u},c?a(o(c),l):l}).gs=function(t,e,n){var u,c,l,f;return"string"!=typeof t?(l=n,n=e,e=t,t=null):l=arguments[3],r(e)?i(e)?r(n)?i(n)||(l=n,n=void 0):n=void 0:(l=e,e=n=void 0):e=void 0,r(t)?(u=s.call(t,"c"),c=s.call(t,"e")):(u=!0,c=!1),f={get:e,set:n,configurable:u,enumerable:c},l?a(o(l),f):f}},817:t=>{"use strict";t.exports=function(){}},4339:(t,e,n)=>{"use strict";t.exports=n(1994)()?Object.assign:n(963)},1994:t=>{"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},963:(t,e,n)=>{"use strict";var r=n(3450),i=n(1836),a=Math.max;t.exports=function(t,e){var n,o,s,u=a(arguments.length,2);for(t=Object(i(t)),s=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},o=1;o<u;++o)r(e=arguments[o]).forEach(s);if(void 0!==n)throw n;return t}},8349:(t,e,n)=>{"use strict";var r=n(817)();t.exports=function(t){return t!==r&&null!==t}},3450:(t,e,n)=>{"use strict";t.exports=n(3446)()?Object.keys:n(9177)},3446:t=>{"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},9177:(t,e,n)=>{"use strict";var r=n(8349),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},3957:(t,e,n)=>{"use strict";var r=n(8349),i=Array.prototype.forEach,a=Object.create,o=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=a(null);return i.call(arguments,(function(t){r(t)&&o(Object(t),e)})),e}},79:t=>{"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},1836:(t,e,n)=>{"use strict";var r=n(8349);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},3246:(t,e,n)=>{"use strict";t.exports=n(8711)()?String.prototype.contains:n(2370)},8711:t=>{"use strict";var e="razdwatrzy";t.exports=function(){return"function"==typeof e.contains&&!0===e.contains("dwa")&&!1===e.contains("foo")}},2370:t=>{"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},9401:(t,e,n)=>{"use strict";n(8625)("ev-store","7");var r="__EV_STORE_KEY@7";t.exports=function(t){var e=t[r];return e||(e=t[r]={}),e}},8709:(t,e,n)=>{"use strict";var r,i,a,o,s,u,c,l=n(7296),f=n(79),h=Function.prototype.apply,d=Function.prototype.call,p=Object.create,v=Object.defineProperty,m=Object.defineProperties,y=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};i=function(t,e){var n,i;return f(e),i=this,r.call(this,t,n=function(){a.call(i,t,n),h.call(e,this,arguments)}),n.__eeOnceListener__=e,this},s={on:r=function(t,e){var n;return f(e),y.call(this,"__ee__")?n=this.__ee__:(n=g.value=p(null),v(this,"__ee__",g),g.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:i,off:a=function(t,e){var n,r,i,a;if(f(e),!y.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(a=0;i=r[a];++a)i!==e&&i.__eeOnceListener__!==e||(2===r.length?n[t]=r[a?0:1]:r.splice(a,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:o=function(t){var e,n,r,i,a;if(y.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(n=arguments.length,a=new Array(n-1),e=1;e<n;++e)a[e-1]=arguments[e];for(i=i.slice(),e=0;r=i[e];++e)h.call(r,this,a)}else switch(arguments.length){case 1:d.call(i,this);break;case 2:d.call(i,this,arguments[1]);break;case 3:d.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,a=new Array(n-1),e=1;e<n;++e)a[e-1]=arguments[e];h.call(i,this,a)}}},u={on:l(r),once:l(i),off:l(a),emit:l(o)},c=m({},u),t.exports=e=function(t){return null==t?p(c):m(Object(t),u)},e.methods=s},4571:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linear=function(t,e){var n,r,i=new Float32Array(t),a=t-1;for(n=0;n<t;n++)r=n/a,i[n]=e>0?r:1-r;return i},e.exponential=function(t,e){var n,r,i=new Float32Array(t),a=t-1;for(n=0;n<t;n++)r=n/a,i[e>0?n:t-1-n]=Math.exp(2*r-1)/Math.exp(1);return i},e.sCurve=function(t,e){var n,r=new Float32Array(t),i=e>0?Math.PI/2:-Math.PI/2;for(n=0;n<t;++n)r[n]=Math.sin(Math.PI*n/t-i)/2+.5;return r},e.logarithmic=function(t,e,n){var r,i=new Float32Array(t),a=0;for(r=0;r<t;r++)a=r/t,i[n>0?r:t-1-r]=Math.log(1+e*a)/Math.log(1+e);return i}},9304:(t,e,n)=>{"use strict";e.h7=e.Y1=e.Hp=e.Jl=e.t$=e._h=void 0,e.L7=function(t,e,n,r){switch(e){case i:u.call(t,n,r);break;case a:l.call(t,n,r);break;case o:h.call(t,n,r);break;case s:p.call(t,n,r);break;default:throw new Error("Unsupported Fade type")}},e.Mt=function(t,e,n,r){switch(e){case i:c.call(t,n,r);break;case a:f.call(t,n,r);break;case o:d.call(t,n,r);break;case s:v.call(t,n,r);break;default:throw new Error("Unsupported Fade type")}};var r=n(4571),i=e._h="sCurve",a=e.t$="linear",o=e.Jl="exponential",s=e.Hp="logarithmic";function u(t,e){var n=(0,r.sCurve)(1e4,1);this.setValueCurveAtTime(n,t,e)}function c(t,e){var n=(0,r.sCurve)(1e4,-1);this.setValueCurveAtTime(n,t,e)}function l(t,e){this.linearRampToValueAtTime(0,t),this.linearRampToValueAtTime(1,t+e)}function f(t,e){this.linearRampToValueAtTime(1,t),this.linearRampToValueAtTime(0,t+e)}function h(t,e){this.exponentialRampToValueAtTime(.01,t),this.exponentialRampToValueAtTime(1,t+e)}function d(t,e){this.exponentialRampToValueAtTime(1,t),this.exponentialRampToValueAtTime(.01,t+e)}function p(t,e){var n=(0,r.logarithmic)(1e4,10,1);this.setValueCurveAtTime(n,t,e)}function v(t,e){var n=(0,r.logarithmic)(1e4,10,-1);this.setValueCurveAtTime(n,t,e)}e.Y1="FadeIn",e.h7="FadeOut"},474:(t,e,n)=>{var r,i=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},a=n(444);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),t.exports=r},7051:(t,e,n)=>{"use strict";var r="undefined"!=typeof window?window:void 0!==n.g?n.g:{};t.exports=function(t,e){return t in r?r[t]:(r[t]=e,e)}},8625:(t,e,n)=>{"use strict";var r=n(7051);t.exports=function(t,e,n){var i="__INDIVIDUAL_ONE_VERSION_"+t,a=r(i+"_ENFORCE_SINGLETON",e);if(a!==e)throw new Error("Can only have one copy of "+t+".\nYou already have version "+a+" installed.\nThis means you cannot install version "+e);return r(i,n)}},1072:(t,e,n)=>{var r=!!(n.g===n.g.window&&n.g.URL&&n.g.Blob&&n.g.Worker);function i(t,e){var i,a=this;if(e=e||{},r)return i=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new n.g.Worker(n.g.URL.createObjectURL(new n.g.Blob([i],{type:"text/javascript"})));this.self=e,this.self.postMessage=function(t){setTimeout((function(){a.onmessage({data:t})}),0)},setTimeout(t.bind(e,e),0)}i.prototype.postMessage=function(t){var e=this;setTimeout((function(){e.self.onmessage({data:t})}),0)},t.exports=i},4436:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&null!==t}},2473:t=>{var e=9007199254740991,n=/^(?:0|[1-9]\d*)$/;function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var i,a,o=Object.prototype,s=o.hasOwnProperty,u=o.toString,c=o.propertyIsEnumerable,l=(i=Object.keys,a=Object,function(t){return i(a(t))}),f=Math.max,h=!c.call({valueOf:1},"valueOf");function d(t,e,n){var r=t[e];s.call(t,e)&&m(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function p(t,r){return!!(r=null==r?e:r)&&("number"==typeof t||n.test(t))&&t>-1&&t%1==0&&t<r}function v(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||o)}function m(t,e){return t===e||t!=t&&e!=e}var y=Array.isArray;function g(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(t.length)&&!function(t){var e=k(t)?u.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}function k(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var b,w=(b=function(t,e){if(h||v(e)||g(e))!function(t,e,n,r){n||(n={});for(var i=-1,a=e.length;++i<a;){var o=e[i];d(n,o,t[o])}}(e,function(t){return g(t)?function(t,e){var n=y(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&g(t)}(t)&&s.call(t,"callee")&&(!c.call(t,"callee")||"[object Arguments]"==u.call(t))}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var a in t)!e&&!s.call(t,a)||i&&("length"==a||p(a,r))||n.push(a);return n}(t):function(t){if(!v(t))return l(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(e),t);else for(var n in e)s.call(e,n)&&d(t,n,e[n])},function(t,e){return e=f(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=f(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=o,r(t,this,s)}}((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(i=b.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(t,e,n){if(!k(n))return!1;var r=typeof e;return!!("number"==r?g(n)&&p(e,n.length):"string"==r&&e in n)&&m(n[e],t)}(e[0],e[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var o=e[n];o&&b(t,o)}return t})));t.exports=w},6146:(t,e,n)=>{t=n.nmd(t);var r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",o="[object Function]",s="[object Object]",u=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[a]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[o]=l["[object Map]"]=l["[object Number]"]=l[s]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,d=f||h||Function("return this")(),p=e&&!e.nodeType&&e,v=p&&t&&!t.nodeType&&t,m=v&&v.exports===p,y=m&&f.process,g=function(){try{return v&&v.require&&v.require("util").types||y&&y.binding&&y.binding("util")}catch(t){}}(),k=g&&g.isTypedArray;function b(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var w,T,x,S=Array.prototype,P=Function.prototype,O=Object.prototype,_=d["__core-js_shared__"],E=P.toString,R=O.hasOwnProperty,C=(w=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",A=O.toString,L=E.call(Object),j=RegExp("^"+E.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=m?d.Buffer:void 0,F=d.Symbol,M=d.Uint8Array,G=(I&&I.allocUnsafe,T=Object.getPrototypeOf,x=Object,function(t){return T(x(t))}),D=Object.create,U=O.propertyIsEnumerable,N=S.splice,V=F?F.toStringTag:void 0,B=function(){try{var t=lt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),z=I?I.isBuffer:void 0,W=Math.max,q=Date.now,X=lt(d,"Map"),H=lt(Object,"create"),Y=function(){function t(){}return function(e){if(!Tt(e))return{};if(D)return D(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function K(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function J(t){var e=this.__data__=new Z(t);this.size=e.size}function Q(t,e,n){(void 0!==n&&!vt(t[e],n)||void 0===n&&!(e in t))&&nt(t,e,n)}function tt(t,e,n){var r=t[e];R.call(t,e)&&vt(r,n)&&(void 0!==n||e in t)||nt(t,e,n)}function et(t,e){for(var n=t.length;n--;)if(vt(t[n][0],e))return n;return-1}function nt(t,e,n){"__proto__"==e&&B?B(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}$.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},$.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},$.prototype.get=function(t){var e=this.__data__;if(H){var n=e[t];return n===r?void 0:n}return R.call(e,t)?e[t]:void 0},$.prototype.has=function(t){var e=this.__data__;return H?void 0!==e[t]:R.call(e,t)},$.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=H&&void 0===e?r:e,this},Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(t){var e=this.__data__,n=et(e,t);return!(n<0||(n==e.length-1?e.pop():N.call(e,n,1),--this.size,0))},Z.prototype.get=function(t){var e=this.__data__,n=et(e,t);return n<0?void 0:e[n][1]},Z.prototype.has=function(t){return et(this.__data__,t)>-1},Z.prototype.set=function(t,e){var n=this.__data__,r=et(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new $,map:new(X||Z),string:new $}},K.prototype.delete=function(t){var e=ct(this,t).delete(t);return this.size-=e?1:0,e},K.prototype.get=function(t){return ct(this,t).get(t)},K.prototype.has=function(t){return ct(this,t).has(t)},K.prototype.set=function(t,e){var n=ct(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},J.prototype.clear=function(){this.__data__=new Z,this.size=0},J.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},J.prototype.get=function(t){return this.__data__.get(t)},J.prototype.has=function(t){return this.__data__.has(t)},J.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Z){var r=n.__data__;if(!X||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(t,e),this.size=n.size,this};function rt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":V&&V in Object(t)?function(t){var e=R.call(t,V),n=t[V];try{t[V]=void 0;var r=!0}catch(t){}var i=A.call(t);return r&&(e?t[V]=n:delete t[V]),i}(t):function(t){return A.call(t)}(t)}function it(t){return xt(t)&&rt(t)==a}function at(t,e,n,r,i){t!==e&&function(t,e,n){for(var r=-1,i=Object(t),a=n(t),o=a.length;o--;){var s=a[++r];if(!1===e(i[s],s,i))break}}(e,(function(a,o){if(i||(i=new J),Tt(a))!function(t,e,n,r,i,a,o){var u=dt(t,n),c=dt(e,n),l=o.get(c);if(l)Q(t,n,l);else{var f,h,d,p,v,m=a?a(u,c,n+"",t,e,o):void 0,y=void 0===m;if(y){var g=yt(c),k=!g&&kt(c),b=!g&&!k&&St(c);m=c,g||k||b?yt(u)?m=u:xt(v=u)&&gt(v)?m=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):k?(y=!1,m=function(t,e){return t.slice()}(c)):b?(y=!1,p=new(d=(f=c).buffer).constructor(d.byteLength),new M(p).set(new M(d)),h=p,m=new f.constructor(h,f.byteOffset,f.length)):m=[]:function(t){if(!xt(t)||rt(t)!=s)return!1;var e=G(t);if(null===e)return!0;var n=R.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==L}(c)||mt(c)?(m=u,mt(u)?m=function(t){return function(t,e,n,r){var i=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=void 0;void 0===u&&(u=t[s]),i?nt(n,s,u):tt(n,s,u)}return n}(t,Ot(t))}(u):Tt(u)&&!bt(u)||(m=function(t){return"function"!=typeof t.constructor||ht(t)?{}:Y(G(t))}(c))):y=!1}y&&(o.set(c,m),i(m,c,r,a,o),o.delete(c)),Q(t,n,m)}}(t,e,o,n,at,r,i);else{var u=r?r(dt(t,o),a,o+"",t,e,i):void 0;void 0===u&&(u=a),Q(t,o,u)}}),Ot)}function ot(t,e){return pt(function(t,e,n){return e=W(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=W(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),b(t,this,s)}}(t,e,Rt),t+"")}var st=B?function(t,e){return B(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Rt;function ut(t,e,n,r,i,a){return Tt(t)&&Tt(e)&&(a.set(e,t),at(t,e,void 0,ut,a),a.delete(e)),t}function ct(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function lt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Tt(t)||function(t){return!!C&&C in t}(t))&&(bt(t)?j:u).test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function ft(t,e){var n=typeof t;return!!(e=null==e?i:e)&&("number"==n||"symbol"!=n&&c.test(t))&&t>-1&&t%1==0&&t<e}function ht(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||O)}function dt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var pt=function(t){var e=0,n=0;return function(){var r=q(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(st);function vt(t,e){return t===e||t!=t&&e!=e}var mt=it(function(){return arguments}())?it:function(t){return xt(t)&&R.call(t,"callee")&&!U.call(t,"callee")},yt=Array.isArray;function gt(t){return null!=t&&wt(t.length)&&!bt(t)}var kt=z||function(){return!1};function bt(t){if(!Tt(t))return!1;var e=rt(t);return e==o||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function wt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Tt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function xt(t){return null!=t&&"object"==typeof t}var St=k?function(t){return function(e){return t(e)}}(k):function(t){return xt(t)&&wt(t.length)&&!!l[rt(t)]},Pt=ot((function(t){return t.push(void 0,ut),b(Et,void 0,t)}));function Ot(t){return gt(t)?function(t,e){var n=yt(t),r=!n&&mt(t),i=!n&&!r&&kt(t),a=!n&&!r&&!i&&St(t),o=n||r||i||a,s=o?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],u=s.length;for(var c in t)!e&&!R.call(t,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ft(c,u))||s.push(c);return s}(t,!0):function(t){if(!Tt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=ht(t),n=[];for(var r in t)("constructor"!=r||!e&&R.call(t,r))&&n.push(r);return n}(t)}var _t,Et=(_t=function(t,e,n,r){at(t,e,n,r)},ot((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,a=r>2?e[2]:void 0;for(i=_t.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(t,e,n){if(!Tt(n))return!1;var r=typeof e;return!!("number"==r?gt(n)&&ft(e,n.length):"string"==r&&e in n)&&vt(n[e],t)}(e[0],e[1],a)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var o=e[n];o&&_t(t,o,n,i)}return t})));function Rt(t){return t}t.exports=Pt},9052:t=>{var e,n,r=9007199254740991,i=/^(?:0|[1-9]\d*)$/,a=Object.prototype,o=a.hasOwnProperty,s=a.toString,u=a.propertyIsEnumerable,c=(e=Object.keys,n=Object,function(t){return e(n(t))});function l(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var f=Array.isArray;function h(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?s.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}function d(t){return h(t)?function(t,e){var n=f(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&h(t)}(t)&&o.call(t,"callee")&&(!u.call(t,"callee")||"[object Arguments]"==s.call(t))}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var a in t)!e&&!o.call(t,a)||i&&("length"==a||l(a,r))||n.push(a);return n}(t):function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||a))return c(t);var e,n,r=[];for(var i in Object(t))o.call(t,i)&&"constructor"!=i&&r.push(i);return r}(t)}function p(t){return t}t.exports=function(t,e){return t&&function(t,e){return t&&function(t,e,n){for(var r=-1,i=Object(t),a=n(t),o=a.length;o--;){var s=a[++r];if(!1===e(i[s],s,i))break}return t}(t,e,d)}(t,"function"==typeof e?e:p)}},6530:function(t,e,n){var r,i,a;!function(o,s){"use strict";i=[e,n(1905)],void 0!==(a="function"==typeof(r=function(t,e){var n={AENC:"Audio encryption",APIC:"Attached picture",CHAP:"Chapter",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},r={T:function(t,n,r){var i={encoding:t.getUint8(n)};return i.value=e.readStr[0===i.encoding?"iso":"ucs"](t,n+1,r-1),i},TXXX:function(t,n,r){var i={encoding:t.getUint8(n)};if(r<2)return i;var a=0===i.encoding?"iso":"ucs",o=n+1,s=e.locateStrTrm[a](t,o,r-4);return-1===s||(i.description=e.readStr[a](t,o,s-o),s+="ucs"===a?2:1,i.value=e.readStr[a](t,s,n+r-s)),i},W:function(t,n,r){return{value:e.readStr.iso(t,n,r)}},WXXX:function(t,n,r){var i={encoding:t.getUint8(n)};if(r<2)return i;var a=0===i.encoding?"iso":"ucs",o=n+1,s=e.locateStrTrm[a](t,o,r-4);return-1===s||(i.description=e.readStr[a](t,o,s-o),s+="ucs"===a?2:1,i.value=e.readStr.iso(t,s,n+r-s)),i},COMM:function(t,n,r){var i={encoding:t.getUint8(n)};if(r<5)return i;var a=0===i.encoding?"iso":"ucs",o=n+4;i.language=e.readTrmStr.iso(t,n+1,3);var s=e.locateStrTrm[a](t,o,r-4);return-1===s||(i.description=e.readStr[a](t,o,s-o),s+="ucs"===a?2:1,i.text=e.readStr[a](t,s,n+r-s)),i},UFID:function(t,n,r){var i=e.readTrmStr.iso(t,n,r);return{ownerIdentifier:i,identifier:new DataView(t.buffer,n+i.length+1,r-i.length-1)}},IPLS:function(t,n,r){for(var i,a={encoding:t.getUint8(n),values:[]},o=0===a.encoding?"iso":"ucs",s=n+1;s<n+r;)-1===(i=e.locateStrTrm[o](t,s,r-(s-n)))&&(i=n+r),a.values.push(e.readStr[o](t,s,i-s)),s=i+("ucs"===o?2:1);return a},USER:function(t,n,r){var i={encoding:t.getUint8(n)};if(r<5)return i;i.language=e.readTrmStr.iso(t,n+1,3);var a=n+4,o=0===i.encoding?"iso":"ucs";return i.text=e.readStr[o](t,a,n+r-a),i},PRIV:function(t,n,r){var i=e.readTrmStr.iso(t,n,r);return{ownerIdentifier:i,privateData:new DataView(t.buffer,n+i.length+1,r-i.length-1)}},PCNT:function(t,e,n){return n<4?{}:{counter:t.getUint32(e)}},POPM:function(t,n,r){var i={email:e.readTrmStr.iso(t,n,r)};return n+=i.email.length+1,r<6||(i.rating=t.getUint8(n),i.counter=t.getUint32(n+1)),i},APIC:function(t,n,r){var i={encoding:t.getUint8(n)};if(r<4)return i;var a,o,s=0===i.encoding?"iso":"ucs";return a=n+1,-1===(o=e.locateStrTrm.iso(t,a,r-1))||(i.mimeType=e.readStr.iso(t,a,o-a),a=o+1,i.pictureType=t.getUint8(a),a+=1,-1===(o=e.locateStrTrm[s](t,a,n+r-a))||(i.description=e.readStr[s](t,a,o-a),a=o+("ucs"===s?2:1),i.pictureData=new DataView(t.buffer,a,n+r-a))),i},CHAP:function(n,r,i){var a={encoding:n.getUint8(r)},o=e.locateStrTrm.iso(n,r,i-1);if(-1===o)return a;a.id=e.readStr.iso(n,r,o-r),a.startTime=n.getUint32(o+1),a.endTime=n.getUint32(o+5),a.startOffset=n.getUint32(o+9),a.endOffset=n.getUint32(o+13);var s=o+17;for(a.frames=[];s<r+i;){var u=t.readId3v2TagFrame(n,s);a.frames.push(u),s+=u.header.size+10}return a}};t.readId3v2TagFrame=function(t,i){var a={header:{id:e.readStr.iso(t,i,4),size:t.getUint32(i+4),flagsOctet1:t.getUint8(i+8),flagsOctet2:t.getUint8(i+9)}};if(a.header.size<1)return a;var o,s,u=(o=r,"TXXX"===(s=a.header.id)?o.TXXX:"T"===s.charAt(0)?o.T:"WXXX"===s?o.WXXX:"W"===s.charAt(0)?o.W:"COMM"===s||"USLT"===s?o.COMM:o[s]||e.noOp);return a.name=n[a.header.id],a.content=u(t,i+10,a.header.size),a},t.readId3v2Tag=function(n,r){if(r||(r=0),n.byteLength-r<10)return null;if(!e.isSeq(e.seq.id3,n,r))return null;var i=n.getUint8(r+5),a={_section:{type:"ID3v2",offset:r},header:{majorVersion:n.getUint8(r+3),minorRevision:n.getUint8(r+4),flagsOctet:i,unsynchronisationFlag:128==(128&i),extendedHeaderFlag:64==(64&i),experimentalIndicatorFlag:32==(32&i),size:e.unsynchsafe(n.getUint32(r+6))},frames:[]};a._section.byteLength=a.header.size+10;var o,s=r+a._section.byteLength;if(3!==a.header.majorVersion)return a;for(r+=10;r<s&&0!==n.getUint32(r)&&(o=t.readId3v2TagFrame(n,r));)a.frames.push(o),r+=o.header.size+10;return a}})?r.apply(e,i):r)&&(t.exports=a)}()},1905:function(t,e){var n,r,i;!function(a,o){"use strict";r=[e],void 0!==(i="function"==typeof(n=function(t){var e,n=(e=[],function(t){return e[0]=128==(128&t)?"1":"0",e[1]=64==(64&t)?"1":"0",e[2]=32==(32&t)?"1":"0",e[3]=16==(16&t)?"1":"0",e[4]=8==(8&t)?"1":"0",e[5]=4==(4&t)?"1":"0",e[6]=2==(2&t)?"1":"0",e[7]=1==(1&t)?"1":"0",e.join("")});t.getFrameByteLength=function(e,n,r,i,a){var o=t.sampleLengthMap[i][a],s=r?"11"===a?4:1:0,u=1e3*e/8;return Math.floor(o*u/n+s)},t.getXingOffset=function(t,e){var n="11"===e;return"11"===t?n?21:36:n?13:21},t.v1l1Bitrates={"0000":"free","0001":32,"0010":64,"0011":96,"0100":128,"0101":160,"0110":192,"0111":224,1e3:256,1001:288,1010:320,1011:352,1100:384,1101:416,1110:448,1111:"bad"},t.v1l2Bitrates={"0000":"free","0001":32,"0010":48,"0011":56,"0100":64,"0101":80,"0110":96,"0111":112,1e3:128,1001:160,1010:192,1011:224,1100:256,1101:320,1110:384,1111:"bad"},t.v1l3Bitrates={"0000":"free","0001":32,"0010":40,"0011":48,"0100":56,"0101":64,"0110":80,"0111":96,1e3:112,1001:128,1010:160,1011:192,1100:224,1101:256,1110:320,1111:"bad"},t.v2l1Bitrates={"0000":"free","0001":32,"0010":48,"0011":56,"0100":64,"0101":80,"0110":96,"0111":112,1e3:128,1001:144,1010:160,1011:176,1100:192,1101:224,1110:256,1111:"bad"},t.v2l2Bitrates={"0000":"free","0001":8,"0010":16,"0011":24,"0100":32,"0101":40,"0110":48,"0111":56,1e3:64,1001:80,1010:96,1011:112,1100:128,1101:144,1110:160,1111:"bad"},t.v2l3Bitrates=t.v2l2Bitrates,t.v1SamplingRates={"00":44100,"01":48e3,10:32e3,11:"reserved"},t.v2SamplingRates={"00":22050,"01":24e3,10:16e3,11:"reserved"},t.v25SamplingRates={"00":11025,"01":12e3,10:8e3,11:"reserved"},t.channelModes={"00":"Stereo","01":"Joint stereo (Stereo)",10:"Dual channel (Stereo)",11:"Single channel (Mono)"},t.mpegVersionDescription={"00":"MPEG Version 2.5 (unofficial)","01":"reserved",10:"MPEG Version 2 (ISO/IEC 13818-3)",11:"MPEG Version 1 (ISO/IEC 11172-3)"},t.layerDescription={"00":"reserved","01":"Layer III",10:"Layer II",11:"Layer I"},t.bitrateMap={11:{"01":t.v1l3Bitrates,10:t.v1l2Bitrates,11:t.v1l1Bitrates},10:{"01":t.v2l3Bitrates,10:t.v2l2Bitrates,11:t.v2l1Bitrates}},t.samplingRateMap={"00":t.v25SamplingRates,10:t.v2SamplingRates,11:t.v1SamplingRates},t.v1SampleLengths={"01":1152,10:1152,11:384},t.v2SampleLengths={"01":576,10:1152,11:384},t.sampleLengthMap={"01":t.v2SampleLengths,10:t.v2SampleLengths,11:t.v1SampleLengths},t.wordSeqFromStr=function(t){for(var e=t.length-1,n=[];e>=0;--e)n[e]=t.charCodeAt(e);return n},t.seq={id3:t.wordSeqFromStr("ID3"),xing:t.wordSeqFromStr("Xing"),info:t.wordSeqFromStr("Info")},t.noOp=function(){},t.unsynchsafe=function(t){for(var e=0,n=2130706432;n;)e>>=1,e|=t&n,n>>=8;return e},t.isSeq=function(t,e,n){for(var r=t.length-1;r>=0;r--)if(t[r]!==e.getUint8(n+r))return!1;return!0},t.locateSeq=function(e,n,r,i){for(var a=0,o=i-e.length+1;a<o;++a)if(t.isSeq(e,n,r+a))return r+a;return-1},t.locateStrTrm={iso:function(e,n,r){return t.locateSeq([0],e,n,r)},ucs:function(e,n,r){var i=t.locateSeq([0,0],e,n,r);return-1===i?-1:((i-n)%2!=0&&++i,i)}},t.readStr={iso:function(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer,e,n))},ucs:function(t,e,n){65534!==t.getUint16(e)&&65279!==t.getUint16(e)||(e+=2,n-=2);var r=t.buffer;return e%2==1&&(r=r.slice(e,e+n),e=0),String.fromCharCode.apply(null,new Uint16Array(r,e,n/2))}},t.readTrmStr={iso:function(e,n,r){var i=t.locateStrTrm.iso(e,n,r);return-1!==i&&(r=i-n),t.readStr.iso(e,n,r)},ucs:function(e,n,r){var i=t.locateStrTrm.ucs(e,n,r);return-1!==i&&(r=i-n),t.readStr.ucs(e,n,r)}},t.readFrameHeader=function(e,r){if(r||(r=0),e.byteLength-r<=4)return null;if(255!==e.getUint8(r))return null;var i=e.getUint8(r+1);if(i<224)return null;var a=n(i).substr(3,2),o=n(i).substr(5,2),s={_section:{type:"frameHeader",byteLength:4,offset:r},mpegAudioVersionBits:a,mpegAudioVersion:t.mpegVersionDescription[a],layerDescriptionBits:o,layerDescription:t.layerDescription[o],isProtected:1&i};if(s.protectionBit=s.isProtected?"1":"0","reserved"===s.mpegAudioVersion)return null;if("reserved"===s.layerDescription)return null;var u=e.getUint8(r+2);if(u=n(u),s.bitrateBits=u.substr(0,4),s.bitrate=t.bitrateMap[a][o][s.bitrateBits],"bad"===s.bitrate)return null;if(s.samplingRateBits=u.substr(4,2),s.samplingRate=t.samplingRateMap[a][s.samplingRateBits],"reserved"===s.samplingRate)return null;s.frameIsPaddedBit=u.substr(6,1),s.frameIsPadded="1"===s.frameIsPaddedBit,s.framePadding=s.frameIsPadded?1:0,s.privateBit=u.substr(7,1);var c=e.getUint8(r+3);return s.channelModeBits=n(c).substr(0,2),s.channelMode=t.channelModes[s.channelModeBits],s},t.readFrame=function(e,n,r){n||(n=0);var i={_section:{type:"frame",offset:n},header:t.readFrameHeader(e,n)},a=i.header;if(!a)return null;i._section.sampleLength=t.sampleLengthMap[a.mpegAudioVersionBits][a.layerDescriptionBits],i._section.byteLength=t.getFrameByteLength(a.bitrate,a.samplingRate,a.framePadding,a.mpegAudioVersionBits,a.layerDescriptionBits),i._section.nextFrameIndex=n+i._section.byteLength;var o=t.getXingOffset(a.mpegAudioVersionBits,a.channelModeBits);return t.isSeq(t.seq.xing,e,n+o)||t.isSeq(t.seq.info,e,n+o)||r&&!t.readFrameHeader(e,i._section.nextFrameIndex)?null:i}})?n.apply(e,r):n)&&(t.exports=i)}()},8359:function(t,e,n){var r,i,a;!function(o,s){"use strict";i=[e,n(1905)],void 0!==(a="function"==typeof(r=function(t,e){t.readXingTag=function(t,n){n||(n=0);var r={_section:{type:"Xing",offset:n},header:e.readFrameHeader(t,n)},i=r.header;if(!i)return null;var a=n+e.getXingOffset(i.mpegAudioVersionBits,i.channelModeBits);return t.byteLength<a+4?null:(r.identifier=e.isSeq(e.seq.xing,t,a)?"Xing":e.isSeq(e.seq.info,t,a)&&"Info",r.identifier?(r._section.byteLength=e.getFrameByteLength(i.bitrate,i.samplingRate,i.framePadding,i.mpegAudioVersionBits,i.layerDescriptionBits),r._section.nextFrameIndex=n+r._section.byteLength,r):null)}})?r.apply(e,i):r)&&(t.exports=a)}()},9228:function(t,e,n){var r,i,a;!function(o,s){"use strict";i=[e,n(1905),n(6530),n(8359)],void 0!==(a="function"==typeof(r=function(t,e,n,r){t.readFrameHeader=function(t,n){return e.readFrameHeader(t,n)},t.readFrame=function(t,n,r){return e.readFrame(t,n,r)},t.readLastFrame=function(e,n,r){n||(n=e.byteLength-1);for(var i=null;n>=0;--n)if(255===e.getUint8(n)&&(i=t.readFrame(e,n,r)))return i;return null},t.readId3v2Tag=function(t,e){return n.readId3v2Tag(t,e)},t.readXingTag=function(t,e){return r.readXingTag(t,e)},t.readTags=function(e,n){n||(n=0);for(var r=[],i=null,a=!1,o=e.byteLength,s=[t.readId3v2Tag,t.readXingTag,t.readFrame],u=s.length;n<o&&!a;++n)for(var c=0;c<u;++c)if(i=s[c](e,n)){if(r.push(i),n+=i._section.byteLength,"frame"===i._section.type){a=!0;break}c=-1}return r}})?r.apply(e,i):r)&&(t.exports=a)}()},6248:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(t,e,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=P(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(R([])));w&&w!==n&&r.call(w,a)&&(k=w);var T=g.prototype=m.prototype=Object.create(k);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,a,o,s){var u=l(t[i],t,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(f).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}}function P(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function R(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:C}}function C(){return{value:e,done:!0}}return y.prototype=g,u(T,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(T),t},t.awrap=function(t){return{__await:t}},x(S.prototype),u(S.prototype,o,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},x(T),u(T,s,"Generator"),u(T,a,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=R,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},5111:(t,e,n)=>{"use strict";var r=n(9666);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},4617:(t,e,n)=>{"use strict";var r=n(1102),i={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(i,typeof t)}},2307:(t,e,n)=>{"use strict";var r=n(5111),i=/^\s*class[\s{/}]/,a=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!i.test(a.call(t))}},9666:(t,e,n)=>{"use strict";var r=n(4617);t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},1102:t=>{"use strict";t.exports=function(t){return null!=t}},1583:(t,e,n)=>{var r=n(5556);t.exports=r},3132:(t,e,n)=>{var r=n(7382);t.exports=r},542:(t,e,n)=>{var r=n(3123);t.exports=r},44:(t,e,n)=>{var r=n(2446);t.exports=r},8554:(t,e,n)=>{var r=n(4436),i=n(4270);function a(t,e,n,r){if(r){var a=r[e];if(i(a))a.unhook&&a.unhook(t,e,n);else if("attributes"===e)for(var o in a)t.removeAttribute(o);else if("style"===e)for(var s in a)t.style[s]="";else t[e]="string"==typeof a?"":null}}function o(t,e,n,i,a){var o=n?n[i]:void 0;if("attributes"!==i)if(o&&r(o)&&s(o)!==s(a))t[i]=a;else{r(t[i])||(t[i]={});var u="style"===i?"":void 0;for(var c in a){var l=a[c];t[i][c]=void 0===l?u:l}}else for(var f in a){var h=a[f];void 0===h?t.removeAttribute(f):t.setAttribute(f,h)}}function s(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}t.exports=function(t,e,n){for(var s in e){var u=e[s];void 0===u?a(t,s,u,n):i(u)?(a(t,s,u,n),u.hook&&u.hook(t,s,n?n[s]:void 0)):r(u)?o(t,0,n,s,u):t[s]=u}}},5556:(t,e,n)=>{var r=n(474),i=n(8554),a=n(9683),o=n(2592),s=n(7127),u=n(1575);t.exports=function t(e,n){var c=n&&n.document||r,l=n?n.warn:null;if(e=u(e).a,s(e))return e.init();if(o(e))return c.createTextNode(e.text);if(!a(e))return l&&l("Item is not a valid virtual dom node",e),null;var f=null===e.namespace?c.createElement(e.tagName):c.createElementNS(e.namespace,e.tagName),h=e.properties;i(f,h);for(var d=e.children,p=0;p<d.length;p++){var v=t(d[p],n);v&&f.appendChild(v)}return f}},476:t=>{var e={};function n(t,i,a,o,s){if(o=o||{},t){r(a,s,s)&&(o[s]=t);var u=i.children;if(u)for(var c=t.childNodes,l=0;l<i.children.length;l++){s+=1;var f=u[l]||e,h=s+(f.count||0);r(a,s,h)&&n(c[l],f,a,o,s),s=h}}return o}function r(t,e,n){if(0===t.length)return!1;for(var r,i,a=0,o=t.length-1;a<=o;){if(i=t[r=(o+a)/2>>0],a===o)return i>=e&&i<=n;if(i<e)a=r+1;else{if(!(i>n))return!0;o=r-1}}return!1}function i(t,e){return t>e?1:-1}t.exports=function(t,e,r,a){return r&&0!==r.length?(r.sort(i),n(t,e,r,a,0)):{}}},4345:(t,e,n)=>{var r=n(8554),i=n(7127),a=n(8248),o=n(9243);function s(t,e){"function"==typeof e.destroy&&i(e)&&e.destroy(t)}t.exports=function(t,e,n){var i,u,c=t.type,l=t.vNode,f=t.patch;switch(c){case a.REMOVE:return function(t,e){var n=t.parentNode;return n&&n.removeChild(t),s(t,e),null}(e,l);case a.INSERT:return function(t,e,n){var r=n.render(e,n);return t&&t.appendChild(r),t}(e,f,n);case a.VTEXT:return function(t,e,n,r){var i;if(3===t.nodeType)t.replaceData(0,t.length,n.text),i=t;else{var a=t.parentNode;i=r.render(n,r),a&&i!==t&&a.replaceChild(i,t)}return i}(e,0,f,n);case a.WIDGET:return function(t,e,n,r){var i,a=o(e,n);i=a?n.update(e,t)||t:r.render(n,r);var u=t.parentNode;return u&&i!==t&&u.replaceChild(i,t),a||s(t,e),i}(e,l,f,n);case a.VNODE:return function(t,e,n,r){var i=t.parentNode,a=r.render(n,r);return i&&a!==t&&i.replaceChild(a,t),a}(e,0,f,n);case a.ORDER:return function(t,e){for(var n,r,i,a=t.childNodes,o={},s=0;s<e.removes.length;s++)n=a[(r=e.removes[s]).from],r.key&&(o[r.key]=n),t.removeChild(n);for(var u=a.length,c=0;c<e.inserts.length;c++)n=o[(i=e.inserts[c]).key],t.insertBefore(n,i.to>=u++?null:a[i.to])}(e,f),e;case a.PROPS:return r(e,f,l.properties),e;case a.THUNK:return i=e,u=n.patch(e,f,n),i&&u&&i!==u&&i.parentNode&&i.parentNode.replaceChild(u,i),u;default:return e}}},2446:(t,e,n)=>{var r=n(474),i=n(8722),a=n(5556),o=n(476),s=n(4345);function u(t,e,n){var i=function(t){var e=[];for(var n in t)"a"!==n&&e.push(Number(n));return e}(e);if(0===i.length)return t;var a=o(t,e.a,i),s=t.ownerDocument;n.document||s===r||(n.document=s);for(var u=0;u<i.length;u++){var l=i[u];t=c(t,a[l],e[l],n)}return t}function c(t,e,n,r){if(!e)return t;var a;if(i(n))for(var o=0;o<n.length;o++)a=s(n[o],e,r),e===t&&(t=a);else a=s(n,e,r),e===t&&(t=a);return t}t.exports=function t(e,n,r){return(r=r||{}).patch=r.patch&&r.patch!==t?r.patch:u,r.render=r.render||a,r.patch(e,n,r)}},9243:(t,e,n)=>{var r=n(7127);t.exports=function(t,e){return!(!r(t)||!r(e))&&("name"in t&&"name"in e?t.id===e.id:t.init===e.init)}},2796:(t,e,n)=>{"use strict";var r=n(9401);function i(t){if(!(this instanceof i))return new i(t);this.value=t}t.exports=i,i.prototype.hook=function(t,e){r(t)[e.substr(3)]=this.value},i.prototype.unhook=function(t,e){r(t)[e.substr(3)]=void 0}},3726:t=>{"use strict";function e(t){if(!(this instanceof e))return new e(t);this.value=t}t.exports=e,e.prototype.hook=function(t,e){t[e]!==this.value&&(t[e]=this.value)}},3123:(t,e,n)=>{"use strict";var r=n(8722),i=n(9327),a=n(6181),o=n(9683),s=n(2592),u=n(7127),c=n(4270),l=n(5483),f=n(7303),h=n(3726),d=n(2796);function p(t,e,n,i){if("string"==typeof t)e.push(new a(t));else if("number"==typeof t)e.push(new a(String(t)));else if(v(t))e.push(t);else{if(!r(t)){if(null==t)return;throw s={foreignObject:t,parentVnode:{tagName:n,properties:i}},(u=new Error).type="virtual-hyperscript.unexpected.virtual-element",u.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+m(s.foreignObject)+".\nThe parent vnode is:\n"+m(s.parentVnode),u.foreignObject=s.foreignObject,u.parentVnode=s.parentVnode,u}for(var o=0;o<t.length;o++)p(t[o],e,n,i)}var s,u}function v(t){return o(t)||s(t)||u(t)||l(t)}function m(t){try{return JSON.stringify(t,null,"    ")}catch(e){return String(t)}}t.exports=function(t,e,n){var a,o,s,u,l,m=[];return!n&&("string"==typeof(l=e)||r(l)||v(l))&&(n=e,o={}),a=f(t,o=o||e||{}),o.hasOwnProperty("key")&&(s=o.key,o.key=void 0),o.hasOwnProperty("namespace")&&(u=o.namespace,o.namespace=void 0),"INPUT"!==a||u||!o.hasOwnProperty("value")||void 0===o.value||c(o.value)||(o.value=h(o.value)),function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if(c(n))continue;"ev-"===e.substr(0,3)&&(t[e]=d(n))}}(o),null!=n&&p(n,m,a,o),new i(a,o,m,s,u)}},7303:(t,e,n)=>{"use strict";var r=n(8098),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,a=/^\.|#/;t.exports=function(t,e){if(!t)return"DIV";var n,o,s,u,c=!e.hasOwnProperty("id"),l=r(t,i),f=null;for(a.test(l[1])&&(f="DIV"),u=0;u<l.length;u++)(o=l[u])&&(s=o.charAt(0),f?"."===s?(n=n||[]).push(o.substring(1,o.length)):"#"===s&&c&&(e.id=o.substring(1,o.length)):f=o);return n&&(e.className&&n.push(e.className),e.className=n.join(" ")),e.namespace?f:f.toUpperCase()}},1575:(t,e,n)=>{var r=n(9683),i=n(2592),a=n(7127),o=n(5483);function s(t,e){var n=t.vnode;if(n||(n=t.vnode=t.render(e)),!(r(n)||i(n)||a(n)))throw new Error("thunk did not return a valid node");return n}t.exports=function(t,e){var n=t,r=e;return o(e)&&(r=s(e,t)),o(t)&&(n=s(t,null)),{a:n,b:r}}},5483:t=>{t.exports=function(t){return t&&"Thunk"===t.type}},4270:t=>{t.exports=function(t){return t&&("function"==typeof t.hook&&!t.hasOwnProperty("hook")||"function"==typeof t.unhook&&!t.hasOwnProperty("unhook"))}},9683:(t,e,n)=>{var r=n(9289);t.exports=function(t){return t&&"VirtualNode"===t.type&&t.version===r}},2592:(t,e,n)=>{var r=n(9289);t.exports=function(t){return t&&"VirtualText"===t.type&&t.version===r}},7127:t=>{t.exports=function(t){return t&&"Widget"===t.type}},9289:t=>{t.exports="2"},9327:(t,e,n)=>{var r=n(9289),i=n(9683),a=n(7127),o=n(5483),s=n(4270);t.exports=l;var u={},c=[];function l(t,e,n,r,l){this.tagName=t,this.properties=e||u,this.children=n||c,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof l?l:null;var f,h=n&&n.length||0,d=0,p=!1,v=!1,m=!1;for(var y in e)if(e.hasOwnProperty(y)){var g=e[y];s(g)&&g.unhook&&(f||(f={}),f[y]=g)}for(var k=0;k<h;k++){var b=n[k];i(b)?(d+=b.count||0,!p&&b.hasWidgets&&(p=!0),!v&&b.hasThunks&&(v=!0),m||!b.hooks&&!b.descendantHooks||(m=!0)):!p&&a(b)?"function"==typeof b.destroy&&(p=!0):!v&&o(b)&&(v=!0)}this.count=h+d,this.hasWidgets=p,this.hasThunks=v,this.hooks=f,this.descendantHooks=m}l.prototype.version=r,l.prototype.type="VirtualNode"},8248:(t,e,n)=>{var r=n(9289);function i(t,e,n){this.type=Number(t),this.vNode=e,this.patch=n}i.NONE=0,i.VTEXT=1,i.VNODE=2,i.WIDGET=3,i.PROPS=4,i.ORDER=5,i.INSERT=6,i.REMOVE=7,i.THUNK=8,t.exports=i,i.prototype.version=r,i.prototype.type="VirtualPatch"},6181:(t,e,n)=>{var r=n(9289);function i(t){this.text=String(t)}t.exports=i,i.prototype.version=r,i.prototype.type="VirtualText"},2416:(t,e,n)=>{var r=n(4436),i=n(4270);function a(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}t.exports=function t(e,n){var o;for(var s in e){s in n||((o=o||{})[s]=void 0);var u=e[s],c=n[s];if(u!==c)if(r(u)&&r(c))if(a(c)!==a(u))(o=o||{})[s]=c;else if(i(c))(o=o||{})[s]=c;else{var l=t(u,c);l&&((o=o||{})[s]=l)}else(o=o||{})[s]=c}for(var f in n)f in e||((o=o||{})[f]=n[f]);return o}},7382:(t,e,n)=>{var r=n(8722),i=n(8248),a=n(9683),o=n(2592),s=n(7127),u=n(5483),c=n(1575),l=n(2416);function f(t,e){var n={a:t};return h(t,e,n,0),n}function h(t,e,n,r){if(t!==e){var c=n[r],f=!1;if(u(t)||u(e))v(t,e,n,r);else if(null==e)s(t)||(d(t,n,r),c=n[r]),c=k(c,new i(i.REMOVE,t,e));else if(a(e))if(a(t))if(t.tagName===e.tagName&&t.namespace===e.namespace&&t.key===e.key){var p=l(t.properties,e.properties);p&&(c=k(c,new i(i.PROPS,t,p))),c=function(t,e,n,r,o){for(var s=t.children,u=function(t,e){var n=g(e),r=n.keys,i=n.free;if(i.length===e.length)return{children:e,moves:null};var a=g(t),o=a.keys;if(a.free.length===t.length)return{children:e,moves:null};for(var s=[],u=0,c=i.length,l=0,f=0;f<t.length;f++){var h,d=t[f];d.key?r.hasOwnProperty(d.key)?(h=r[d.key],s.push(e[h])):(h=f-l++,s.push(null)):u<c?(h=i[u++],s.push(e[h])):(h=f-l++,s.push(null))}for(var p=u>=i.length?e.length:i[u],v=0;v<e.length;v++){var m=e[v];m.key?o.hasOwnProperty(m.key)||s.push(m):v>=p&&s.push(m)}for(var k,b=s.slice(),w=0,T=[],x=[],S=0;S<e.length;){var P=e[S];for(k=b[w];null===k&&b.length;)T.push(y(b,w,null)),k=b[w];k&&k.key===P.key?(w++,S++):P.key?(k&&k.key&&r[k.key]!==S+1?(T.push(y(b,w,k.key)),(k=b[w])&&k.key===P.key?w++:x.push({key:P.key,to:S})):x.push({key:P.key,to:S}),S++):k&&k.key&&T.push(y(b,w,k.key))}for(;w<b.length;)k=b[w],T.push(y(b,w,k&&k.key));return T.length!==l||x.length?{children:s,moves:{removes:T,inserts:x}}:{children:s,moves:null}}(s,e.children),c=u.children,l=s.length,f=c.length,d=l>f?l:f,p=0;p<d;p++){var v=s[p],m=c[p];o+=1,v?h(v,m,n,o):m&&(r=k(r,new i(i.INSERT,null,m))),a(v)&&v.count&&(o+=v.count)}return u.moves&&(r=k(r,new i(i.ORDER,t,u.moves))),r}(t,e,n,c,r)}else c=k(c,new i(i.VNODE,t,e)),f=!0;else c=k(c,new i(i.VNODE,t,e)),f=!0;else o(e)?o(t)?t.text!==e.text&&(c=k(c,new i(i.VTEXT,t,e))):(c=k(c,new i(i.VTEXT,t,e)),f=!0):s(e)&&(s(t)||(f=!0),c=k(c,new i(i.WIDGET,t,e)));c&&(n[r]=c),f&&d(t,n,r)}}function d(t,e,n){m(t,e,n),p(t,e,n)}function p(t,e,n){if(s(t))"function"==typeof t.destroy&&(e[n]=k(e[n],new i(i.REMOVE,t,null)));else if(a(t)&&(t.hasWidgets||t.hasThunks))for(var r=t.children,o=r.length,c=0;c<o;c++){var l=r[c];p(l,e,n+=1),a(l)&&l.count&&(n+=l.count)}else u(t)&&v(t,null,e,n)}function v(t,e,n,r){var a=c(t,e),o=f(a.a,a.b);(function(t){for(var e in t)if("a"!==e)return!0;return!1})(o)&&(n[r]=new i(i.THUNK,null,o))}function m(t,e,n){if(a(t)){if(t.hooks&&(e[n]=k(e[n],new i(i.PROPS,t,function(t){var e={};for(var n in t)e[n]=void 0;return e}(t.hooks)))),t.descendantHooks||t.hasThunks)for(var r=t.children,o=r.length,s=0;s<o;s++){var c=r[s];m(c,e,n+=1),a(c)&&c.count&&(n+=c.count)}}else u(t)&&v(t,null,e,n)}function y(t,e,n){return t.splice(e,1),{from:e,key:n}}function g(t){for(var e={},n=[],r=t.length,i=0;i<r;i++){var a=t[i];a.key?e[a.key]=i:n.push(i)}return{keys:e,free:n}}function k(t,e){return t?(r(t)?t.push(e):t=[t,e],t):e}t.exports=f},6385:t=>{"use strict";function e(t){for(var e,n=1/0,r=-1/0,i=0,a=t.length;i<a;i++)n>(e=t[i])&&(n=e),r<e&&(r=e);return{min:n,max:r}}function n(t,e){var n=Math.pow(2,e-1),r=t<0?t*n:t*(n-1);return Math.max(-n,Math.min(n-1,r))}function r(t,r,a){var o,s,u,c,l,f,h=t.length,d=Math.ceil(h/r),p=i(a,2*d);for(o=0;o<d;o++)s=o*r,u=(o+1)*r>h?h:(o+1)*r,l=n((f=e(t.subarray(s,u))).min,a),c=n(f.max,a),p[2*o]=l,p[2*o+1]=c;return p}function i(t,e){return new(new Function(`return Int${t}Array`)())(e)}function a(t,e){return"number"==typeof t?t:e}t.exports=function(t,e,n,o,s,u){if(e=a(e,1e3),u=a(u,16),null==n&&(n=!0),[8,16,32].indexOf(u)<0)throw new Error("Invalid number of bits specified for peaks.");var c,l,f=t.numberOfChannels,h=[];if(o=a(o,0),s=a(s,t.length),void 0===t.subarray)for(c=0;c<f;c++)l=t.getChannelData(c).subarray(o,s),h.push(r(l,e,u));else h.push(r(t.subarray(o,s),e,u));return n&&h.length>1&&(h=function(t,e){var n,r,a=t.length,o=1/a,s=t[0].length/2,u=0,c=0,l=i(e,2*s);for(c=0;c<s;c++){for(n=0,r=0,u=0;u<a;u++)n+=o*t[u][2*c],r+=o*t[u][2*c+1];l[2*c]=n,l[2*c+1]=r}return[l]}(h,u)),{length:h[0].length/2,data:h,bits:u}}},8722:t=>{var e=Array.isArray,n=Object.prototype.toString;t.exports=e||function(t){return"[object Array]"===n.call(t)}},444:()=>{}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};(()=>{"use strict";n.r(r),n.d(r,{default:()=>Nt,init:()=>Ut});var t=n(6146),e=n.n(t),i=n(1583),a=n.n(i),o=n(8709),s=n.n(o);function u(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){u(a,r,i,o,s,"next",t)}function s(t){u(a,r,i,o,s,"throw",t)}o(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var d=n(7135),p=n.n(d),v=n(542),m=n.n(v),y=n(3132),g=n.n(y),k=n(44),b=n.n(k),w=n(1072),T=n.n(w);function x(t,e){return Math.ceil(t*e)}function S(t,e,n){return t*e/n}function P(t,e,n){return Math.ceil(t*n/e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function _(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=O(t)););return t}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},E.apply(this,arguments)}function R(t,e){return R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},R(t,e)}function C(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function L(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var j=n(9228),I=n.n(j),F=1e6,M=("undefined"!=typeof navigator&&navigator.hardwareConcurrency||1)>2?navigator.hardwareConcurrency:4;function G(t,e,n){return function(r){var i,a,o;t.push((i=e,a=n.subarray(r.frames[0]._section.offset,r.frames[r.frames.length-1]._section.offset+r.frames[r.frames.length-1]._section.byteLength),(o=new Uint8Array(i.byteLength+a.byteLength)).set(i,0),o.set(a,i.byteLength),o.buffer))}}function D(t){t.byteLength=0,t.frames.length=0}function U(t,e){t.byteLength=t.byteLength+e._section.byteLength,t.frames.push(e)}var N=function(t,e,n,r){return c(p().mark((function i(){var a;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(a=e.pop())){i.next=6;break}return i.next=3,n(a);case 3:r[t.get(a)]=i.sent,i.next=0;break;case 6:case"end":return i.stop()}}),i)})))};function V(t){return new Promise((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsArrayBuffer(t)}))}function B(t,e){return new Promise(t.decodeAudioData.bind(t,e))}function z(t,e){return W.apply(this,arguments)}function W(){return W=c(p().mark((function t(e,n){var r,i=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>2&&void 0!==i[2]&&i[2],t.next=3,V(e);case 3:return r=t.sent,t.abrupt("return",V(r));case 5:case"end":return t.stop()}}),t)}))),W.apply(this,arguments)}function q(){return q=c(p().mark((function t(e,n){var r,i,a,o,s,u,c,l,f,h,d,v,m,y,g,k,b,w,T,x,S,P,O,_,E,R,C,A,L,j=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=j.length>2&&void 0!==j[2]?j[2]:{},i=r.native,a=void 0!==i&&i,o=r.concurrency,s=void 0===o?M:o,!a){t.next=4;break}return t.abrupt("return",B(n,e));case 4:if(!window.webkitAudioContext){t.next=7;break}return t.abrupt("return",z(file,n,{native:!0}));case 7:for(u=new DataView(e),c=I().readTags(u),l=c.pop(),f=new Uint8Array(e),h=f.subarray(0,l._section.offset),v=G(d=[],h,f),m={byteLength:0,frames:[]},y=l._section.offset+l._section.byteLength;y;)g=I().readFrame(u,y),y=g&&g._section.nextFrameIndex,g&&(m&&m.byteLength+g._section.byteLength>=F&&(v(m),D(m)),U(m,g)),!m||g&&y||v(m);for(k=[],b=new Map(d.map((function(t,e){return[t,e]}))),w=new Array(d.length),T=B.bind(null,n),x=0;x<Math.min(s,b.size);x++)k.push(N(b,d,T,w)());return t.next=24,Promise.all(k);case 24:for(S=w[0],P=S.numberOfChannels,O=S.sampleRate,_=w.reduce((function(t,e){return t+e.length}),0),E=n.createBuffer(P,_,O),R=0;R<P;R++)for(C=E.getChannelData(R),A=0,L=0;L<w.length;L++)C.set(w[L].getChannelData(R),A),A+=w[L].length;return t.abrupt("return",E);case 29:case"end":return t.stop()}}),t)}))),q.apply(this,arguments)}var X=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s()();l(this,t),this.src=e,this.ac=n,this.audioRequestState=0,this.ee=r}return h(t,[{key:"setStateChange",value:function(t){this.audioRequestState=t,this.ee.emit("audiorequeststatechange",this.audioRequestState,this.src)}},{key:"fileProgress",value:function(t){var e=0;0===this.audioRequestState&&this.setStateChange(1),t.lengthComputable&&(e=t.loaded/t.total*100),this.ee.emit("loadprogress",e,this.src)}},{key:"fileLoad",value:function(t){var e=this,n=t.target.response||t.target.result;return this.setStateChange(2),new Promise((function(t,r){var i=function(t,e){return q.apply(this,arguments)}(n,e.ac);e.audioBuffer=i,e.setStateChange(3),t(i)}))}}]),t}();var H=function(t){C(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=O(e);if(n){var i=O(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return L(this,t)});function i(){return l(this,i),r.apply(this,arguments)}return h(i,[{key:"load",value:function(){var t=this;return new Promise((function(e,n){if(t.src.type.match(/audio.*/)||t.src.type.match(/video\/ogg/)){var r=new FileReader;r.readAsArrayBuffer(t.src),r.addEventListener("progress",(function(e){E(O(i.prototype),"fileProgress",t).call(t,e)})),r.addEventListener("load",(function(r){E(O(i.prototype),"fileLoad",t).call(t,r).then((function(t){e(t)})).catch(n)})),r.addEventListener("error",n)}else n(Error("Unsupported file type ".concat(t.src.type)))}))}}]),i}(X);var Y=function(t){C(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=O(e);if(n){var i=O(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return L(this,t)});function i(){return l(this,i),r.apply(this,arguments)}return h(i,[{key:"load",value:function(){return Promise.resolve(this.src)}}]),i}(X);var $=function(t){C(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=O(e);if(n){var i=O(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return L(this,t)});function i(){return l(this,i),r.apply(this,arguments)}return h(i,[{key:"load",value:function(){var t=this;return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t.src,!0),r.responseType="arraybuffer",r.send(),r.addEventListener("progress",(function(e){E(O(i.prototype),"fileProgress",t).call(t,e)})),r.addEventListener("load",(function(r){E(O(i.prototype),"fileLoad",t).call(t,r).then((function(t){e(t)})).catch(n)})),r.addEventListener("error",(function(){n(Error("Track ".concat(t.src," failed to load")))}))}))}}]),i}(X),Z=function(){function t(){l(this,t)}return h(t,null,[{key:"createLoader",value:function(t,e,n){if(t instanceof Blob)return new H(t,e,n);if(t instanceof AudioBuffer)return new Y(t,e,n);if("string"==typeof t)return new $(t,e,n);throw new Error("Unsupported src type")}}]),t}(),K=function(){function t(e){l(this,t),this.playlist=e}return h(t,[{key:"hook",value:function(t){var e=this.playlist;if(!e.isScrolling){var n=t;if(e.isAutomaticScroll){var r=t.getBoundingClientRect(),i=e.controls.show?e.controls.width:0,a=S(r.width-i,e.samplesPerPixel,e.sampleRate),o=e.isPlaying()?e.playbackSeconds:e.getTimeSelection().start;(o<e.scrollLeft||o>=e.scrollLeft+a)&&(e.scrollLeft=Math.min(o,e.duration-a))}var s=P(e.scrollLeft,e.samplesPerPixel,e.sampleRate);n.scrollLeft=s}}}]),t}(),J=function(){function t(e,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;l(this,t),this.duration=e,this.offset=n,this.samplesPerPixel=r,this.sampleRate=i,this.marginLeft=a,this.colors=o,this.timeinfo={4e5:{marker:3e5,bigStep:1e5,smallStep:5e4,secondStep:100},1e5:{marker:75e3,bigStep:25e3,smallStep:12e3,secondStep:25},2e4:{marker:3e4,bigStep:1e4,smallStep:5e3,secondStep:5},12e3:{marker:15e3,bigStep:5e3,smallStep:1e3,secondStep:1},1e4:{marker:1e4,bigStep:5e3,smallStep:1e3,secondStep:1},5e3:{marker:5e3,bigStep:1e3,smallStep:500,secondStep:.5},2500:{marker:2e3,bigStep:1e3,smallStep:500,secondStep:.5},1500:{marker:2e3,bigStep:1e3,smallStep:200,secondStep:.2},700:{marker:1e3,bigStep:500,smallStep:100,secondStep:.1}}}return h(t,[{key:"getScaleInfo",value:function(t){var e=Object.keys(this.timeinfo).map((function(t){return parseInt(t,10)}));e=e.sort((function(t,e){return t-e}));for(var n=0;n<e.length;n+=1)if(t<=e[n])return this.timeinfo[e[n]];return this.timeinfo[e[0]]}},{key:"render",value:function(){for(var e=P(this.duration,this.samplesPerPixel,this.sampleRate),n=this.sampleRate/this.samplesPerPixel,r=P(this.offset,this.samplesPerPixel,this.sampleRate),i=this.getScaleInfo(this.samplesPerPixel),a={},o=[],s=e+r,u=0,c=0;c<s;c+=n*i.secondStep){var l=Math.floor(c),f=l-r;l>=r&&(i.marker&&u%i.marker==0?(o.push(m()("div.time",{attributes:{style:"position: absolute; left: ".concat(f,"px;")}},[t.formatTime(u)])),a[f]=10):i.bigStep&&u%i.bigStep==0?a[f]=5:i.smallStep&&u%i.smallStep==0&&(a[f]=2)),u+=1e3*i.secondStep}return m()("div.playlist-time-scale",{attributes:{style:"position: relative; left: 0; right: 0; margin-left: ".concat(this.marginLeft,"px;")}},[o])}}],[{key:"formatTime",value:function(t){var e=t/1e3,n=e%60,r=(e-n)/60;return n<10&&(n="0".concat(n)),"".concat(r,":").concat(n)}}]),t}();const Q=J;var tt,et=n(2473),nt=n.n(et),rt=n(9052),it=n.n(rt),at=new Uint8Array(16);function ot(){if(!tt&&!(tt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tt(at)}const st=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ut=function(t){return"string"==typeof t&&st.test(t)};for(var ct=[],lt=0;lt<256;++lt)ct.push((lt+256).toString(16).substr(1));const ft=function(t,e,n){var r=(t=t||{}).random||(t.rng||ot)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ct[t[e+0]]+ct[t[e+1]]+ct[t[e+2]]+ct[t[e+3]]+"-"+ct[t[e+4]]+ct[t[e+5]]+"-"+ct[t[e+6]]+ct[t[e+7]]+"-"+ct[t[e+8]]+ct[t[e+9]]+"-"+ct[t[e+10]]+ct[t[e+11]]+ct[t[e+12]]+ct[t[e+13]]+ct[t[e+14]]+ct[t[e+15]]).toLowerCase();if(!ut(n))throw TypeError("Stringified UUID is invalid");return n}(r)};var ht=n(6385),dt=n.n(ht),pt=n(9304),vt=function(){function t(e){l(this,t),this.track=e}return h(t,[{key:"setup",value:function(t,e){this.samplesPerPixel=t,this.sampleRate=e}},{key:"click",value:function(t){t.preventDefault();var e=S(t.offsetX,this.samplesPerPixel,this.sampleRate);this.track.ee.emit("select",e,e,this.track)}}],[{key:"getClass",value:function(){return".state-cursor"}},{key:"getEvents",value:function(){return["click"]}}]),t}(),mt=function(){function t(e){l(this,t),this.track=e,this.active=!1}return h(t,[{key:"setup",value:function(t,e){this.samplesPerPixel=t,this.sampleRate=e}},{key:"emitSelection",value:function(t){var e=Math.min(t,this.startX),n=Math.max(t,this.startX),r=S(e,this.samplesPerPixel,this.sampleRate),i=S(n,this.samplesPerPixel,this.sampleRate);this.track.ee.emit("select",r,i,this.track)}},{key:"complete",value:function(t){this.emitSelection(t),this.active=!1}},{key:"mousedown",value:function(t){t.preventDefault(),this.active=!0,this.startX=t.offsetX;var e=S(this.startX,this.samplesPerPixel,this.sampleRate);this.track.ee.emit("select",e,e,this.track)}},{key:"mousemove",value:function(t){this.active&&(t.preventDefault(),this.emitSelection(t.offsetX))}},{key:"mouseup",value:function(t){this.active&&(t.preventDefault(),this.complete(t.offsetX))}},{key:"mouseleave",value:function(t){this.active&&(t.preventDefault(),this.complete(t.offsetX))}}],[{key:"getClass",value:function(){return".state-select"}},{key:"getEvents",value:function(){return["mousedown","mousemove","mouseup","mouseleave"]}}]),t}(),yt=function(){function t(e){l(this,t),this.track=e,this.active=!1}return h(t,[{key:"setup",value:function(t,e){this.samplesPerPixel=t,this.sampleRate=e}},{key:"emitShift",value:function(t,e){var n=S(t-this.prevX,this.samplesPerPixel,this.sampleRate);this.prevX=t,this.track.ee.emit("shift",n,this.track,e)}},{key:"complete",value:function(t){this.emitShift(t,!0),this.active=!1}},{key:"mousedown",value:function(t){t.preventDefault(),this.active=!0,this.el=t.target,this.prevX=t.offsetX}},{key:"mousemove",value:function(t){this.active&&(t.preventDefault(),this.emitShift(t.offsetX,!1))}},{key:"mouseup",value:function(t){this.active&&(t.preventDefault(),this.complete(t.offsetX))}},{key:"mouseleave",value:function(t){this.active&&(t.preventDefault(),this.complete(t.offsetX))}}],[{key:"getClass",value:function(){return".state-shift"}},{key:"getEvents",value:function(){return["mousedown","mousemove","mouseup","mouseleave"]}}]),t}(),gt=function(){function t(e){l(this,t),this.track=e}return h(t,[{key:"setup",value:function(t,e){this.samplesPerPixel=t,this.sampleRate=e}},{key:"click",value:function(t){var e=S(t.offsetX,this.samplesPerPixel,this.sampleRate);e>this.track.getStartTime()&&e<this.track.getEndTime()&&this.track.ee.emit("fadein",e-this.track.getStartTime(),this.track)}}],[{key:"getClass",value:function(){return".state-fadein"}},{key:"getEvents",value:function(){return["click"]}}]),t}(),kt=function(){function t(e){l(this,t),this.track=e}return h(t,[{key:"setup",value:function(t,e){this.samplesPerPixel=t,this.sampleRate=e}},{key:"click",value:function(t){var e=S(t.offsetX,this.samplesPerPixel,this.sampleRate);e>this.track.getStartTime()&&e<this.track.getEndTime()&&this.track.ee.emit("fadeout",this.track.getEndTime()-e,this.track)}}],[{key:"getClass",value:function(){return".state-fadeout"}},{key:"getEvents",value:function(){return["click"]}}]),t}();const bt={cursor:vt,select:mt,shift:yt,fadein:gt,fadeout:kt},wt=function(){function t(e,n,r,i,a,o,s,u){l(this,t),this.peaks=e,this.offset=n,this.color=i,this.bits=r,this.scale=a,this.height=o,this.barWidth=s,this.barGap=u}return h(t,[{key:"hook",value:function(e,n,r){if(void 0===r||r.peaks!==this.peaks||r.scale!==this.scale||r.height!==this.height){var i=this.scale,a=e.width/i,o=e.getContext("2d"),s=e.height/i/2,u=Math.pow(2,this.bits-1),c=this.barWidth,l=this.barGap,f=c+l;o.clearRect(0,0,e.width,e.height),o.save(),o.fillStyle=this.color,o.scale(i,i);for(var h=0;h<a;h+=f){var d=this.peaks[2*(h+this.offset)]/u,p=this.peaks[2*(h+this.offset)+1]/u;t.drawFrame(o,s,h,d,p,c,l)}o.restore()}}}],[{key:"drawFrame",value:function(t,e,n,r,i,a,o){var s=Math.abs(r*e),u=Math.abs(i*e);t.fillRect(n,0,a,e-u),t.fillRect(n,e+s,a,e-s),0!==o&&t.fillRect(n+a,0,o,2*e)}}]),t}();var Tt=n(4571),xt=function(){function t(e,n,r,i){l(this,t),this.type=e,this.shape=n,this.duration=r,this.samplesPerPixel=i}return h(t,[{key:"hook",value:function(e,n,r){if(void 0===r||r.shape!==this.shape||r.type!==this.type||r.duration!==this.duration||r.samplesPerPixel!==this.samplesPerPixel){var i=e.getContext("2d"),a=e.width,o=e.height,s=t.createCurve(this.shape,this.type,a),u=s.length,c=o-s[0]*o;i.clearRect(0,0,e.width,e.height),i.save(),i.strokeStyle="black",i.beginPath(),i.moveTo(0,c);for(var l=1;l<u;l+=1)c=o-s[l]*o,i.lineTo(l,c);i.stroke(),i.restore()}}}],[{key:"createCurve",value:function(t,e,n){var r,i;switch(e){case pt.Y1:r=1;break;case pt.h7:r=-1;break;default:throw new Error("Unsupported fade type.")}switch(t){case pt._h:i=(0,Tt.sCurve)(n,r);break;case pt.t$:i=(0,Tt.linear)(n,r);break;case pt.Jl:i=(0,Tt.exponential)(n,r);break;case pt.Hp:i=(0,Tt.logarithmic)(n,10,r);break;default:throw new Error("Unsupported fade shape")}return i}}]),t}();const St=xt;var Pt=function(){function t(e){l(this,t),this.gain=e}return h(t,[{key:"hook",value:function(t){t.value=100*this.gain,t.title="".concat(Math.round(100*this.gain),"% volume")}}]),t}(),Ot=function(){function t(e){l(this,t),this.stereoPan=e}return h(t,[{key:"hook",value:function(t){var e;t.value=100*this.stereoPan,e=0===this.stereoPan?"Center":this.stereoPan<0?"Left":"Right";var n="".concat(Math.abs(Math.round(100*this.stereoPan)),"% ");t.title="Pan: ".concat(0!==this.stereoPan?n:"").concat(e)}}]),t}();function _t(t,e){t.connect(e)}var Et=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.createGain();l(this,t),this.ac=e,this.gain=1,this.effectsGraph=_t,this.masterEffectsGraph=_t,this.buffer=n,this.masterGain=r,this.destination=this.ac.destination}return h(t,[{key:"applyFade",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"logarithmic";if(t===pt.Y1)(0,pt.L7)(this.fadeGain.gain,r,e,n);else{if(t!==pt.h7)throw new Error("Unsupported fade type");(0,pt.Mt)(this.fadeGain.gain,r,e,n)}}},{key:"applyFadeIn",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"logarithmic";this.applyFade(pt.Y1,t,e,n)}},{key:"applyFadeOut",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"logarithmic";this.applyFade(pt.h7,t,e,n)}},{key:"isPlaying",value:function(){return void 0!==this.source}},{key:"getDuration",value:function(){return this.buffer.duration}},{key:"setAudioContext",value:function(t){this.ac=t,this.destination=this.ac.destination}},{key:"createStereoPanner",value:function(){return this.ac.createStereoPanner?this.ac.createStereoPanner():this.ac.createPanner()}},{key:"setUpSource",value:function(){var t,e,n=this;this.source=this.ac.createBufferSource(),this.source.buffer=this.buffer;var r=new Promise((function(r){n.source.onended=function(){n.source.disconnect(),n.fadeGain.disconnect(),n.volumeGain.disconnect(),n.shouldPlayGain.disconnect(),n.panner.disconnect(),t&&t(),e&&e(),n.source=void 0,n.fadeGain=void 0,n.volumeGain=void 0,n.shouldPlayGain=void 0,n.panner=void 0,r()}}));return this.fadeGain=this.ac.createGain(),this.volumeGain=this.ac.createGain(),this.shouldPlayGain=this.ac.createGain(),this.panner=this.createStereoPanner(),this.source.connect(this.fadeGain),this.fadeGain.connect(this.volumeGain),this.volumeGain.connect(this.shouldPlayGain),this.shouldPlayGain.connect(this.panner),t=this.effectsGraph(this.panner,this.masterGain,this.ac instanceof OfflineAudioContext),e=this.masterEffectsGraph(this.masterGain,this.destination,this.ac instanceof OfflineAudioContext),r}},{key:"setVolumeGainLevel",value:function(t){this.volumeGain&&(this.volumeGain.gain.value=t)}},{key:"setShouldPlay",value:function(t){this.shouldPlayGain&&(this.shouldPlayGain.gain.value=t?1:0)}},{key:"setMasterGainLevel",value:function(t){this.masterGain&&(this.masterGain.gain.value=t)}},{key:"setStereoPanValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.panner&&(void 0!==this.panner.pan?this.panner.pan.value=t:(this.panner.panningModel="equalpower",this.panner.setPosition(t,0,1-Math.abs(t))))}},{key:"setEffects",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;this.effectsGraph=t}},{key:"setMasterEffects",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t;this.masterEffectsGraph=t}},{key:"play",value:function(t,e,n){this.source.start(t,e,n)}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.source&&this.source.stop(t)}}]),t}(),Rt=function(){function t(){l(this,t),this.name="Untitled",this.customClass=void 0,this.waveOutlineColor=void 0,this.gain=1,this.fades={},this.peakData={type:"WebAudio",mono:!1},this.cueIn=0,this.cueOut=0,this.duration=0,this.startTime=0,this.endTime=0,this.stereoPan=0}return h(t,[{key:"setEventEmitter",value:function(t){this.ee=t}},{key:"setName",value:function(t){this.name=t}},{key:"setCustomClass",value:function(t){this.customClass=t}},{key:"setWaveOutlineColor",value:function(t){this.waveOutlineColor=t}},{key:"setCues",value:function(t,e){if(e<t)throw new Error("cue out cannot be less than cue in");this.cueIn=t,this.cueOut=e,this.duration=this.cueOut-this.cueIn,this.endTime=this.startTime+this.duration}},{key:"trim",value:function(t,e){var n=this.getStartTime(),r=this.getEndTime(),i=this.cueIn-n;if(n<=t&&r>=t||n<=e&&r>=e){var a=t<n?n:t,o=e>r?r:e;this.setCues(a+i,o+i),t>n&&this.setStartTime(t)}}},{key:"removePart",value:function(t,e,n){var r,i,a=this.getStartTime(),o=this.getEndTime();t<=e?(r=t,i=e):(r=e,i=t);var s=r-this.getStartTime();s<0&&(s=0);var u=s/this.duration,c=i-this.getStartTime(),l=(this.duration-c)/this.duration;if(l<0&&(l=0),r<=o&&i>=a){var f,h=this.buffer.numberOfChannels,d=u*this.buffer.length,p=l*this.buffer.length;try{f=n.createBuffer(h,d+p,this.buffer.sampleRate);for(var v=new Float32Array(d),m=new Float32Array(p),y=0;y<h;y++)this.buffer.copyFromChannel(v,y,0),this.buffer.copyFromChannel(m,y,this.buffer.length-p),f.copyToChannel(v,y,0),f.copyToChannel(m,y,d)}catch(t){throw t}this.buffer=f,this.setCues(0,f.duration),this.playout.buffer=this.buffer}}},{key:"setStartTime",value:function(t){this.startTime=t,this.endTime=t+this.duration}},{key:"setPlayout",value:function(t){this.playout=t}},{key:"setOfflinePlayout",value:function(t){this.offlinePlayout=t}},{key:"setEnabledStates",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={cursor:!0,fadein:!0,fadeout:!0,select:!0,shift:!0};this.enabledStates=nt()({},e,t)}},{key:"setFadeIn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logarithmic";if(t>this.duration)throw new Error("Invalid Fade In");var n={shape:e,start:0,end:t};this.fadeIn&&(this.removeFade(this.fadeIn),this.fadeIn=void 0),this.fadeIn=this.saveFade(pt.Y1,n.shape,n.start,n.end)}},{key:"setFadeOut",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"logarithmic";if(t>this.duration)throw new Error("Invalid Fade Out");var n={shape:e,start:this.duration-t,end:this.duration};this.fadeOut&&(this.removeFade(this.fadeOut),this.fadeOut=void 0),this.fadeOut=this.saveFade(pt.h7,n.shape,n.start,n.end)}},{key:"saveFade",value:function(t,e,n,r){var i=ft();return this.fades[i]={type:t,shape:e,start:n,end:r},i}},{key:"removeFade",value:function(t){delete this.fades[t]}},{key:"setBuffer",value:function(t){this.buffer=t}},{key:"setPeakData",value:function(t){this.peakData=t}},{key:"calculatePeaks",value:function(t,e){var n=x(this.cueIn,e),r=x(this.cueOut,e);this.setPeaks(dt()(this.buffer,t,this.peakData.mono,n,r))}},{key:"setPeaks",value:function(t){this.peaks=t}},{key:"setState",value:function(t){if(this.state=t,this.state&&this.enabledStates[this.state]){var e=bt[this.state];this.stateObj=new e(this)}else this.stateObj=void 0}},{key:"getStartTime",value:function(){return this.startTime}},{key:"getEndTime",value:function(){return this.endTime}},{key:"getDuration",value:function(){return this.duration}},{key:"isPlaying",value:function(){return this.playout.isPlaying()}},{key:"setShouldPlay",value:function(t){this.playout.setShouldPlay(t)}},{key:"setGainLevel",value:function(t){this.gain=t,this.playout.setVolumeGainLevel(t)}},{key:"setMasterGainLevel",value:function(t){this.playout.setMasterGainLevel(t)}},{key:"setStereoPanValue",value:function(t){this.stereoPan=t,this.playout.setStereoPanValue(t)}},{key:"setEffects",value:function(t){this.effectsGraph=t,this.playout.setEffects(t)}},{key:"schedulePlay",value:function(t,e,n,r){var i,a,o=t,s=n?n-e:void 0,u=nt()({},{shouldPlay:!0,masterGain:1,isOffline:!1},r),c=u.isOffline?this.offlinePlayout:this.playout;if(this.endTime<=e||s&&e+s<this.startTime)return Promise.resolve();this.startTime>=e?(i=0,o+=this.startTime-e,n?(s-=this.startTime-e,a=Math.min(s,this.duration)):a=this.duration):(i=e-this.startTime,a=n?Math.min(s,this.duration-i):this.duration-i),i+=this.cueIn;var l=e-this.startTime,f=c.setUpSource();return it()(this.fades,(function(e){var n,r;if(l<e.end)switch(l<=e.start?(n=t+(e.start-l),r=e.end-e.start):l>e.start&&l<e.end&&(n=t-(l-e.start),r=e.end-e.start),e.type){case pt.Y1:c.applyFadeIn(n,r,e.shape);break;case pt.h7:c.applyFadeOut(n,r,e.shape);break;default:throw new Error("Invalid fade type saved on track.")}})),c.setVolumeGainLevel(this.gain),c.setShouldPlay(u.shouldPlay),c.setMasterGainLevel(u.masterGain),c.setStereoPanValue(this.stereoPan),c.play(o,i,a),f}},{key:"scheduleStop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.playout.stop(t)}},{key:"renderOverlay",value:function(t){var e=this,n=P(t.playlistLength,t.resolution,t.sampleRate),r={attributes:{style:"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: ".concat(n,"px; z-index: 9;")}},i="";if(this.stateObj){this.stateObj.setup(t.resolution,t.sampleRate);var a=bt[this.state];a.getEvents().forEach((function(t){r["on".concat(t)]=e.stateObj[t].bind(e.stateObj)})),i=a.getClass()}return m()("div.playlist-overlay".concat(i),r)}},{key:"renderControls",value:function(t){var e=this,n=t.muted?".active":"",r=t.soloed?".active":"",i=t.collapsed,a=this.peaks.data.length,o=t.controls.widgets,s=m()("button.btn.btn-danger.btn-xs.track-remove",{attributes:{type:"button",title:"Remove track"},onclick:function(){e.ee.emit("removeTrack",e)}},[m()("i.fas.fa-times")]),u=m()("div.single-line",{attributes:{contentEditable:!0},onkeypress:function(t){e.ee.emit("renameTrack",{track:e,event:t})}},[this.name]),c=m()("button.btn.btn-info.btn-xs.track-collapse",{attributes:{type:"button",title:i?"Expand track":"Collapse track"},onclick:function(){e.ee.emit("changeTrackView",e,{collapsed:!i})}},[m()("i.fas.".concat(i?"fa-caret-down":"fa-caret-up"))]),l=[];o.remove&&l.push(s),l.push(u),o.collapse&&l.push(c);var f=[m()("div.track-header",l)];return i||(o.muteOrSolo&&f.push(m()("div.btn-group",[m()("button.btn.btn-outline-dark.btn-xs.btn-mute".concat(n),{attributes:{type:"button"},onclick:function(){e.ee.emit("mute",e)}},["Mute"]),m()("button.btn.btn-outline-dark.btn-xs.btn-solo".concat(r),{onclick:function(){e.ee.emit("solo",e)}},["Solo"])])),o.volume&&f.push(m()("label.volume",[m()("input.volume-slider",{attributes:{"aria-label":"Track volume control",type:"range",min:0,max:100,value:100},hook:new Pt(this.gain),oninput:function(t){e.ee.emit("volumechange",t.target.value,e)}})])),o.stereoPan&&f.push(m()("label.stereopan",[m()("input.stereopan-slider",{attributes:{"aria-label":"Track stereo pan control",type:"range",min:-100,max:100,value:100},hook:new Ot(this.stereoPan),oninput:function(t){e.ee.emit("stereopan",t.target.value/100,e)}})]))),m()("div.controls",{attributes:{style:"height: ".concat(a*t.height,"px; width: ").concat(t.controls.width,"px; position: absolute; left: 0; z-index: 10;")}},f)}},{key:"render",value:function(t){var e=this,n=this.peaks.length,r=P(t.playbackSeconds,t.resolution,t.sampleRate),i=P(this.startTime,t.resolution,t.sampleRate),a=P(this.endTime,t.resolution,t.sampleRate),o=0,s=this.peaks.data.length,u=Math.ceil(window.devicePixelRatio);r>0&&r>i&&(o=r<a?r-i:n);var c=[m()("div.cursor",{attributes:{style:"position: absolute; width: 1px; margin: 0; padding: 0; top: 0; left: ".concat(r,"px; bottom: 0; z-index: 5;")}})],l=Object.keys(this.peaks.data).map((function(r){for(var a=[m()("div.channel-progress",{attributes:{style:"position: absolute; width: ".concat(o,"px; height: ").concat(t.height,"px; z-index: 2;")}})],s=0,c=n,l=e.peaks.data[r];c>0;){var f=Math.min(c,1e3),h=e.waveOutlineColor?e.waveOutlineColor:t.colors.waveOutlineColor;a.push(m()("canvas",{attributes:{width:f*u,height:t.height*u,style:"float: left; position: relative; margin: 0; padding: 0; z-index: 3; width: ".concat(f,"px; height: ").concat(t.height,"px;")},hook:new wt(l,s,e.peaks.bits,h,u,t.height,t.barWidth,t.barGap)})),c-=f,s+=1e3}if(e.fadeIn){var d=e.fades[e.fadeIn],p=P(d.end-d.start,t.resolution,t.sampleRate);a.push(m()("div.wp-fade.wp-fadein",{attributes:{style:"position: absolute; height: ".concat(t.height,"px; width: ").concat(p,"px; top: 0; left: 0; z-index: 4;")}},[m()("canvas",{attributes:{width:p,height:t.height},hook:new St(d.type,d.shape,d.end-d.start,t.resolution)})]))}if(e.fadeOut){var v=e.fades[e.fadeOut],y=P(v.end-v.start,t.resolution,t.sampleRate);a.push(m()("div.wp-fade.wp-fadeout",{attributes:{style:"position: absolute; height: ".concat(t.height,"px; width: ").concat(y,"px; top: 0; right: 0; z-index: 4;")}},[m()("canvas",{attributes:{width:y,height:t.height},hook:new St(v.type,v.shape,v.end-v.start,t.resolution)})]))}return m()("div.channel.channel-".concat(r),{attributes:{style:"height: ".concat(t.height,"px; width: ").concat(n,"px; top: ").concat(r*t.height,"px; left: ").concat(i,"px; position: absolute; margin: 0; padding: 0; z-index: 1;")}},a)}));if(c.push(l),c.push(this.renderOverlay(t)),!0===t.isActive){var f=P(t.timeSelection.start,t.resolution,t.sampleRate),h=P(t.timeSelection.end,t.resolution,t.sampleRate)-f+1,d=h>1?".segment":".point";c.push(m()("div.selection".concat(d),{attributes:{style:"position: absolute; width: ".concat(h,"px; bottom: 0; top: 0; left: ").concat(f,"px; z-index: 4;")}}))}var p=m()("div.waveform",{attributes:{style:"height: ".concat(s*t.height,"px; position: relative;")}},c),v=[],y=0;t.controls.show&&(v.push(this.renderControls(t)),y=t.controls.width),v.push(p);var g=t.shouldPlay?"":".silent",k=void 0===this.customClass?"":".".concat(this.customClass);return m()("div.channel-wrapper".concat(g).concat(k),{attributes:{style:"margin-left: ".concat(y,"px; height: ").concat(t.height*s,"px;")}},v)}},{key:"getTrackDetails",value:function(){var t={src:this.src,start:this.startTime,end:this.endTime,name:this.name,customClass:this.customClass,cuein:this.cueIn,cueout:this.cueOut,stereoPan:this.stereoPan,gain:this.gain,effects:this.effectsGraph};if(this.fadeIn){var e=this.fades[this.fadeIn];t.fadeIn={shape:e.shape,duration:e.end-e.start}}if(this.fadeOut){var n=this.fades[this.fadeOut];t.fadeOut={shape:n.shape,duration:n.end-n.start}}return t}}]),t}();function Ct(t){return{id:t.id||ft(),start:Number(t.begin)||0,end:Number(t.end)||0,lines:t.lines||[""],lang:t.language||"en"}}var At=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,t),this.playlist=e,this.data=r,this.active=!1,this.ondragover=function(t){n.active&&(t.preventDefault(),n.emitDrag(t.clientX))}}return h(t,[{key:"emitDrag",value:function(t){var e=t-this.prevX;if(e){var n=S(e,this.playlist.samplesPerPixel,this.playlist.sampleRate);this.prevX=t,this.playlist.ee.emit("dragged",n,this.data)}}},{key:"complete",value:function(){this.active=!1,document.removeEventListener("dragover",this.ondragover)}},{key:"dragstart",value:function(t){var e=t;this.active=!0,this.prevX=t.clientX,e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",""),document.addEventListener("dragover",this.ondragover)}},{key:"dragend",value:function(t){this.active&&(t.preventDefault(),this.complete())}}],[{key:"getClass",value:function(){return".shift"}},{key:"getEvents",value:function(){return["dragstart","dragend"]}}]),t}(),Lt=function(){};Lt.prototype.hook=function(t){var e=t.querySelector(".current");if(e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect().top-n.top;t.scrollTop+=r}};const jt=Lt;var It=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;l(this,t),this.playlist=e,this.marginLeft=s,this.resizeHandlers=[],this.editable=i,this.annotations=n.map((function(t){return Ct(t)})),this.setupInteractions(),this.controls=r,this.setupEE(e.ee),this.playlist.isContinuousPlay=o,this.playlist.linkEndpoints=a,this.length=this.annotations.length}return h(t,[{key:"setupInteractions",value:function(){var t=this;this.annotations.forEach((function(e,n){var r=new At(t.playlist,{direction:"left",index:n}),i=new At(t.playlist,{direction:"right",index:n});t.resizeHandlers.push(r),t.resizeHandlers.push(i)}))}},{key:"setupEE",value:function(t){var e=this;return t.on("dragged",(function(t,n){var r=n.index,i=e.annotations,a=i[r];if("left"===n.direction){var o=a.start;a.start+=t,a.start<0&&(a.start=0),r&&i[r-1].end>a.start&&(i[r-1].end=a.start),e.playlist.linkEndpoints&&r&&i[r-1].end===o&&(i[r-1].end=a.start)}else{var s=a.end;a.end+=t,a.end>e.playlist.duration&&(a.end=e.playlist.duration),r<i.length-1&&i[r+1].start<a.end&&(i[r+1].start=a.end),e.playlist.linkEndpoints&&r<i.length-1&&i[r+1].start===s&&(i[r+1].start=a.end)}e.playlist.drawRequest()})),t.on("continuousplay",(function(t){e.playlist.isContinuousPlay=t})),t.on("linkendpoints",(function(t){e.playlist.linkEndpoints=t})),t.on("annotationsrequest",(function(){e.export()})),t}},{key:"export",value:function(){var t=this.annotations.map((function(t){return e=t,{begin:String(e.start.toFixed(3)),end:String(e.end.toFixed(3)),id:String(e.id),language:e.lang,lines:e.lines};var e})),e="data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(t))),n=document.createElement("a");document.body.appendChild(n),n.href=e,n.download="annotations.json",n.click(),document.body.removeChild(n)}},{key:"renderResizeLeft",value:function(t){var e=At.getEvents(),n={attributes:{style:"position: absolute; height: 30px; width: 10px; top: 0; left: -2px",draggable:!0}},r=this.resizeHandlers[2*t];return e.forEach((function(t){n["on".concat(t)]=r[t].bind(r)})),m()("div.resize-handle.resize-w",n)}},{key:"renderResizeRight",value:function(t){var e=At.getEvents(),n={attributes:{style:"position: absolute; height: 30px; width: 10px; top: 0; right: -2px",draggable:!0}},r=this.resizeHandlers[2*t+1];return e.forEach((function(t){n["on".concat(t)]=r[t].bind(r)})),m()("div.resize-handle.resize-e",n)}},{key:"renderControls",value:function(t,e){var n=this,r=this;return this.controls.map((function(i){return m()("i.".concat(i.class),{attributes:{title:i.title},onclick:function(){i.action(t,e,r.annotations,{linkEndpoints:r.playlist.linkEndpoints}),n.setupInteractions(),r.playlist.drawRequest()}})}))}},{key:"render",value:function(){var t=this,e=m()("div.annotations-boxes",{attributes:{style:"height: 30px; position: relative; margin-left: ".concat(this.marginLeft,"px;")}},this.annotations.map((function(e,n){var r=t.playlist.samplesPerPixel,i=t.playlist.sampleRate,a=i/r,o=P(t.playlist.scrollLeft,r,i),s=Math.floor(e.start*a-o),u=Math.ceil(e.end*a-e.start*a);return m()("div.annotation-box",{attributes:{style:"position: absolute; height: 30px; width: ".concat(u,"px; left: ").concat(s,"px"),"data-id":e.id}},[t.renderResizeLeft(n),m()("span.id",{onclick:function(){var e=t.annotations[n].start,r=t.annotations[n].end;t.playlist.isContinuousPlay?(t.playlist.seek(e,e),t.playlist.ee.emit("play",e)):(t.playlist.seek(e,r),t.playlist.ee.emit("play",e,r))}},[e.id]),t.renderResizeRight(n)])}))),n=m()("div.annotations-boxes-wrapper",{attributes:{style:"overflow: hidden;"}},[e]),r=m()("div.annotations-text",{hook:new jt},this.annotations.map((function(e,n){var r=function(t){function e(t,e){var n=parseInt(t/3600,10)%24,r=parseInt(t/60,10)%60,i=(t%60).toFixed(e),a=n<10?"0".concat(n):n,o=r<10?"0".concat(r):r,s=i<10?"0".concat(i):i;return"".concat(a,":").concat(o,":").concat(s)}return{seconds:function(t){return t.toFixed(0)},thousandths:function(t){return t.toFixed(3)},"hh:mm:ss":function(t){return e(t,0)},"hh:mm:ss.u":function(t){return e(t,1)},"hh:mm:ss.uu":function(t){return e(t,2)},"hh:mm:ss.uuu":function(t){return e(t,3)}}[t]}(t.playlist.durationFormat),i=r(e.start),a=r(e.end),o="";t.playlist.isPlaying()&&t.playlist.playbackSeconds>=e.start&&t.playlist.playbackSeconds<=e.end&&(o=".current");var s={attributes:{contenteditable:!0},oninput:function(t){e.lines=[t.target.innerText]},onkeypress:function(t){13!==t.which&&13!==t.keyCode||(t.target.blur(),t.preventDefault())}},u=t.editable?s:{};return m()("div.annotation".concat(o),[m()("span.annotation-id",[e.id]),m()("span.annotation-start",[i]),m()("span.annotation-end",[a]),m()("span.annotation-lines",u,[e.lines]),m()("span.annotation-actions",t.renderControls(e,n))])})));return m()("div.annotations",[n,r])}}]),t}();const Ft=It;function Mt(){function t(t){for(var e,n=1/0,r=-1/0,i=0;i<t.length;i+=1)n>(e=t[i])&&(n=e),r<e&&(r=e);return{min:n,max:r}}function e(t,e){var n=Math.pow(2,e-1),r=t<0?t*n:t*n-1;return Math.max(-n,Math.min(n-1,r))}function n(n,r,i){for(var a,o,s,u,c,l=n.length,f=Math.ceil(l/r),h=new(self["Int".concat(i,"Array")])(2*f),d=0;d<f;d+=1)a=d*r,o=(d+1)*r>l?l:(d+1)*r,u=e((c=t(n.subarray(a,o))).min,i),s=e(c.max,i),h[2*d]=u,h[2*d+1]=s;return h}onmessage=function(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;if([8,16,32].indexOf(r)<0)throw new Error("Invalid number of bits specified for peaks.");var i=[],a=0,o=t.length;i.push(n(t.subarray(a,o),e,r));var s=i[0].length/2;return{bits:r,length:s,data:i}}(t.data.samples,t.data.samplesPerPixel);postMessage(e)}}function Gt(){var t,e=0,n=[],r=[];function i(t,e,n){for(var r=0;r<n.length;r+=1)t.setUint8(e+r,n.charCodeAt(r))}function a(t,e,n){for(var r=e,i=0;i<n.length;i+=1,r+=2){var a=Math.max(-1,Math.min(1,n[i]));t.setInt16(r,a<0?32768*a:32767*a,!0)}}function o(t,e){for(var n=new Float32Array(e),r=0,i=0;i<t.length;i+=1)n.set(t[i],r),r+=t[i].length;return n}onmessage=function(s){switch(s.data.command){case"init":c=s.data.config,t=c.sampleRate;break;case"record":u=s.data.buffer,n.push(u[0]),r.push(u[1]),e+=u[0].length;break;case"exportWAV":!function(s,u){var c=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new ArrayBuffer(44+2*e.length),o=new DataView(r);return i(o,0,"RIFF"),o.setUint32(4,32+2*e.length,!0),i(o,8,"WAVE"),i(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,n?1:2,!0),o.setUint32(24,t,!0),o.setUint32(28,4*t,!0),o.setUint16(32,4,!0),o.setUint16(34,16,!0),i(o,36,"data"),o.setUint32(40,2*e.length,!0),a(o,44,e),o}(function(t,e){for(var n=t.length+e.length,r=new Float32Array(n),i=0,a=0;i<n;)r[i+=1]=t[a],r[i+=1]=e[a],a+=1;return r}(o(n,e),o(r,e)));if(u)postMessage(c);else{var l=new Blob([c],{type:s});postMessage(l)}}(s.data.type,s.data.raw);break;case"clear":e=0,n=[],r=[];break;default:throw new Error("Unknown export worker command")}var u,c}}var Dt=function(){function t(){l(this,t),this.tracks=[],this.soloedTracks=[],this.mutedTracks=[],this.collapsedTracks=[],this.playoutPromises=[],this.cursor=0,this.playbackSeconds=0,this.duration=0,this.scrollLeft=0,this.scrollTimer=void 0,this.showTimescale=!1,this.isScrolling=!1,this.fadeType="logarithmic",this.masterGain=1,this.annotations=[],this.durationFormat="hh:mm:ss.uuu",this.isAutomaticScroll=!1,this.resetDrawTimer=void 0}var n;return h(t,[{key:"initExporter",value:function(){this.exportWorker=new(T())(Gt)}},{key:"initRecorder",value:function(t){var e=this;this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.onstart=function(){var t=new Rt;t.setName("Recording"),t.setEnabledStates(),t.setEventEmitter(e.ee),e.recordingTrack=t,e.tracks.push(t),e.chunks=[],e.working=!1},this.mediaRecorder.ondataavailable=function(t){if(e.chunks.push(t.data),!e.working){var n=new Blob(e.chunks,{type:"audio/ogg; codecs=opus"});Z.createLoader(n,e.ac).load().then((function(t){e.recorderWorker.postMessage({samples:t.getChannelData(0),samplesPerPixel:e.samplesPerPixel}),e.recordingTrack.setCues(0,t.duration),e.recordingTrack.setBuffer(t),e.recordingTrack.setPlayout(new Et(e.ac,t,e.masterGainNode)),e.adjustDuration()})).catch((function(){e.working=!1})),e.working=!0}},this.mediaRecorder.onstop=function(){e.chunks=[],e.working=!1},this.recorderWorker=new(T())(Mt),this.recorderWorker.onmessage=function(t){e.recordingTrack.setPeaks(t.data),e.working=!1,e.drawRequest()}}},{key:"setShowTimeScale",value:function(t){this.showTimescale=t}},{key:"setMono",value:function(t){this.mono=t}},{key:"setExclSolo",value:function(t){this.exclSolo=t}},{key:"setSeekStyle",value:function(t){this.seekStyle=t}},{key:"getSeekStyle",value:function(){return this.seekStyle}},{key:"setSampleRate",value:function(t){this.sampleRate=t}},{key:"setSamplesPerPixel",value:function(t){this.samplesPerPixel=t}},{key:"setAudioContext",value:function(t){this.ac=t,this.masterGainNode=t.createGain()}},{key:"getAudioContext",value:function(){return this.ac}},{key:"setControlOptions",value:function(t){this.controls=t}},{key:"setWaveHeight",value:function(t){this.waveHeight=t}},{key:"setCollapsedWaveHeight",value:function(t){this.collapsedWaveHeight=t}},{key:"setColors",value:function(t){this.colors=t}},{key:"setBarWidth",value:function(t){this.barWidth=t}},{key:"setBarGap",value:function(t){this.barGap=t}},{key:"setAnnotations",value:function(t){var e=this.controls.show?this.controls.width:0;this.annotationList=new Ft(this,t.annotations,t.controls,t.editable,t.linkEndpoints,t.isContinuousPlay,e)}},{key:"setEffects",value:function(t){this.effectsGraph=t}},{key:"setEventEmitter",value:function(t){this.ee=t}},{key:"getEventEmitter",value:function(){return this.ee}},{key:"setUpEventEmitter",value:function(){var t=this,e=this.ee;e.on("automaticscroll",(function(e){t.isAutomaticScroll=e})),e.on("durationformat",(function(e){t.durationFormat=e,t.drawRequest()})),e.on("select",(function(e,n,r){t.isPlaying()?(t.lastSeeked=e,t.pausedAt=void 0,t.restartPlayFrom(e)):(t.seek(e,n,r),t.ee.emit("timeupdate",e),t.drawRequest())})),e.on("startaudiorendering",(function(e){t.startOfflineRender(e)})),e.on("statechange",(function(e){t.setState(e),t.drawRequest()})),e.on("shift",(function(e,n,r){var i=n.getStartTime()+e;r&&(i<0&&(i=0),t.isPlaying()&&(t.pause(),t.play())),n.setStartTime(i),t.adjustDuration(),t.drawRequest()})),e.on("record",(function(){t.record()})),e.on("play",(function(e,n){t.play(e,n)})),e.on("pause",(function(){t.pause()})),e.on("stop",(function(){t.stop()})),e.on("rewind",(function(){t.rewind()})),e.on("fastforward",(function(){t.fastForward()})),e.on("clear",(function(){t.clear().then((function(){t.drawRequest()}))})),e.on("solo",(function(e){t.soloTrack(e),t.adjustTrackPlayout(),t.drawRequest()})),e.on("mute",(function(e){t.muteTrack(e),t.adjustTrackPlayout(),t.drawRequest()})),e.on("removeTrack",(function(e){t.removeTrack(e),t.adjustTrackPlayout(),t.drawRequest()})),e.on("renameTrack",(function(e){t.renameTrack(e)})),e.on("changeTrackView",(function(e,n){t.collapseTrack(e,n),t.drawRequest()})),e.on("volumechange",(function(e,n){n.setGainLevel(e/100),t.drawRequest()})),e.on("mastervolumechange",(function(e){t.masterGain=e/100,t.tracks.forEach((function(e){e.setMasterGainLevel(t.masterGain)}))})),e.on("fadein",(function(e,n){n.setFadeIn(e,t.fadeType),t.drawRequest()})),e.on("fadeout",(function(e,n){n.setFadeOut(e,t.fadeType),t.drawRequest()})),e.on("stereopan",(function(e,n){n.setStereoPanValue(e),t.drawRequest()})),e.on("fadetype",(function(e){t.fadeType=e})),e.on("newtrack",(function(e){t.load([{src:e,name:"Track ".concat(t.tracks.length+1)}])})),e.on("cut",(function(){var e=t.getActiveTrack(),n=t.getTimeSelection();e.removePart(n.start,n.end,t.ac),e.calculatePeaks(t.samplesPerPixel,t.sampleRate),t.setTimeSelection(0,0),t.adjustDuration(),t.drawRequest(),t.ee.emit("cutfinished")})),e.on("trim",(function(){var e=t.getActiveTrack(),n=t.getTimeSelection();e.trim(n.start,n.end),e.calculatePeaks(t.samplesPerPixel,t.sampleRate),t.setTimeSelection(0,0),t.drawRequest()})),e.on("split",(function(){var e=t.getActiveTrack(),n=t.getTimeSelection().start;t.createTrackFromSplit({trackToSplit:e,name:e.name+"_1",splitTime:n}),e.trim(e.startTime,n),e.fadeOut&&(e.removeFade(e.fadeOut),e.fadeOut=void 0),e.calculatePeaks(t.samplesPerPixel,t.sampleRate),t.drawRequest()})),e.on("zoomin",(function(){var e=Math.max(0,t.zoomIndex-1),n=t.zoomLevels[e];n!==t.samplesPerPixel&&(t.setZoom(n),t.drawRequest())})),e.on("zoomout",(function(){var e=Math.min(t.zoomLevels.length-1,t.zoomIndex+1),n=t.zoomLevels[e];n!==t.samplesPerPixel&&(t.setZoom(n),t.drawRequest())})),e.on("scroll",(function(){t.isScrolling=!0,t.drawRequest(),clearTimeout(t.scrollTimer),t.scrollTimer=setTimeout((function(){t.isScrolling=!1}),200)}))}},{key:"load",value:function(t){var e=this,n=t.map((function(t){return Z.createLoader(t.src,e.ac,e.ee).load().then((function(t){return t.sampleRate===e.sampleRate?t:function(t,e){var n=Math.ceil(t.duration*e),r=new OfflineAudioContext(t.numberOfChannels,n,e),i=r.createBufferSource();return i.buffer=t,i.connect(r.destination),i.start(),r.startRendering()}(t,e.sampleRate)}))}));return Promise.all(n).then((function(n){e.ee.emit("audiosourcesloaded");var r=n.map((function(n,r){var i=t[r],a=i.name||"Untitled",o=i.start||0,s=i.states||{},u=i.fadeIn,c=i.fadeOut,l=i.cuein||0,f=i.cueout||n.duration,h=i.gain||1,d=i.muted||!1,p=i.soloed||!1,v=i.selected,m=i.peaks||{type:"WebAudio",mono:e.mono},y=i.customClass||void 0,g=i.waveOutlineColor||void 0,k=i.stereoPan||0,b=i.effects||null,w=new Et(e.ac,n,e.masterGainNode),T=new Rt;return T.src=i.src,T.setBuffer(n),T.setName(a),T.setEventEmitter(e.ee),T.setEnabledStates(s),T.setCues(l,f),T.setCustomClass(y),T.setWaveOutlineColor(g),void 0!==u&&T.setFadeIn(u.duration,u.shape),void 0!==c&&T.setFadeOut(c.duration,c.shape),void 0!==v&&(e.setActiveTrack(T),e.setTimeSelection(v.start,v.end)),void 0!==m&&T.setPeakData(m),T.setState(e.getState()),T.setStartTime(o),T.setPlayout(w),T.setGainLevel(h),T.setStereoPanValue(k),b&&T.setEffects(b),d&&e.muteTrack(T),p&&e.soloTrack(T),T.calculatePeaks(e.samplesPerPixel,e.sampleRate),T}));e.tracks=e.tracks.concat(r),e.adjustDuration(),e.draw(e.render()),e.ee.emit("audiosourcesrendered")})).catch((function(t){e.ee.emit("audiosourceserror",t)}))}},{key:"createTrackFromSplit",value:function(t){var e=t.trackToSplit,n=t.name,r=t.splitTime,i=e.enabledStates,a=e.buffer,o=e.fadeOut,s=e.cueIn,u=e.cueOut,c=e.gain||1,l=!1;-1!==this.mutedTracks.indexOf(e)&&(l=!0);var f=!1;-1!==this.soloedTracks.indexOf(e)&&(f=!0);var h=e.peakData,d=e.customClass,p=e.waveOutlineColor,v=e.stereoPan||0,m=e.effectsGraph||null,y=new Et(this.ac,a,this.masterGainNode),g=new Rt;if(g.src=e.src,g.setBuffer(a),g.setName(n),g.setEventEmitter(this.ee),g.setEnabledStates(i),g.setCues(s,u),g.setCustomClass(d),g.setWaveOutlineColor(p),void 0!==o){var k=e.fades[o];g.setFadeOut(k.end-k.start,k.shape)}void 0!==h&&g.setPeakData(h),g.setState(this.getState()),g.setPlayout(y),g.setGainLevel(c),g.setStereoPanValue(v),m&&g.setEffects(m),l&&this.muteTrack(g),f&&this.soloTrack(g),g.setStartTime(e.startTime),g.trim(r,g.endTime),g.calculatePeaks(this.samplesPerPixel,this.sampleRate),this.tracks=this.tracks.concat([g]),this.adjustDuration(),this.draw(this.render()),this.setActiveTrack(g),this.ee.emit("audiosourcesrendered")}},{key:"setActiveTrack",value:function(t){this.activeTrack=t}},{key:"getActiveTrack",value:function(){return this.activeTrack}},{key:"isSegmentSelection",value:function(){return this.timeSelection.start!==this.timeSelection.end}},{key:"setTimeSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.timeSelection={start:t,end:void 0===e?t:e},this.cursor=t}},{key:"startOfflineRender",value:(n=c(p().mark((function t(e){var n,r,i,a,o=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isRendering){t.next=2;break}return t.abrupt("return");case 2:return this.isRendering=!0,this.offlineAudioContext=new OfflineAudioContext(2,44100*this.duration,44100),n=[],this.ee.emit("audiorenderingstarting",this.offlineAudioContext,n),r=this.offlineAudioContext.currentTime,i=this.offlineAudioContext.createGain(),this.tracks.forEach((function(t){var e=new Et(o.offlineAudioContext,t.buffer,i);e.setEffects(t.effectsGraph),e.setMasterEffects(o.effectsGraph),t.setOfflinePlayout(e),t.schedulePlay(r,0,0,{shouldPlay:o.shouldTrackPlay(t),masterGain:1,isOffline:!0})})),t.next=11,Promise.all(n);case 11:return t.next=13,this.offlineAudioContext.startRendering();case 13:a=t.sent,"buffer"===e?(this.ee.emit("audiorenderingfinished",e,a),this.isRendering=!1):"wav"!==e&&"wavRaw"!==e||(this.exportWorker.postMessage({command:"init",config:{sampleRate:44100}}),this.exportWorker.onmessage=function(t){o.ee.emit("audiorenderingfinished",e,t.data),o.isRendering=!1,o.exportWorker.postMessage({command:"clear"})},this.exportWorker.postMessage({command:"record",buffer:[a.getChannelData(0),a.getChannelData(1)]}),this.exportWorker.postMessage({command:"exportWAV",type:"audio/wav",raw:"wavRaw"===e}));case 15:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getTimeSelection",value:function(){return this.timeSelection}},{key:"setState",value:function(t){this.state=t,this.tracks.forEach((function(e){e.setState(t)}))}},{key:"getState",value:function(){return this.state}},{key:"setZoomIndex",value:function(t){this.zoomIndex=t}},{key:"setZoomLevels",value:function(t){this.zoomLevels=t}},{key:"setZoom",value:function(t){var e=this;this.samplesPerPixel=t,this.zoomIndex=this.zoomLevels.indexOf(t),this.tracks.forEach((function(n){n.calculatePeaks(t,e.sampleRate)}))}},{key:"muteTrack",value:function(t){var e=this.mutedTracks.indexOf(t);e>-1?this.mutedTracks.splice(e,1):this.mutedTracks.push(t)}},{key:"soloTrack",value:function(t){var e=this.soloedTracks.indexOf(t);e>-1?this.soloedTracks.splice(e,1):this.exclSolo?this.soloedTracks=[t]:this.soloedTracks.push(t)}},{key:"collapseTrack",value:function(t,e){if(e.collapsed)this.collapsedTracks.push(t);else{var n=this.collapsedTracks.indexOf(t);n>-1&&this.collapsedTracks.splice(n,1)}}},{key:"removeTrack",value:function(t){t.isPlaying()&&t.scheduleStop(),[this.mutedTracks,this.soloedTracks,this.collapsedTracks,this.tracks].forEach((function(e){var n=e.indexOf(t);n>-1&&e.splice(n,1)}))}},{key:"renameTrack",value:function(t){var e=t.track,n=t.event;"Enter"===n.key&&(n.target.innerText?e.name=n.target.innerText:n.target.innerText=e.name,n.target.blur())}},{key:"adjustTrackPlayout",value:function(){var t=this;this.tracks.forEach((function(e){e.setShouldPlay(t.shouldTrackPlay(e))}))}},{key:"adjustDuration",value:function(){this.duration=this.tracks.reduce((function(t,e){return Math.max(t,e.getEndTime())}),0)}},{key:"shouldTrackPlay",value:function(t){var e;return this.soloedTracks.length>0?(e=!1,this.soloedTracks.indexOf(t)>-1&&(e=!0)):(e=!0,this.mutedTracks.indexOf(t)>-1&&(e=!1)),e}},{key:"isPlaying",value:function(){return this.tracks.reduce((function(t,e){return t||e.isPlaying()}),!1)}},{key:"getCurrentTime",value:function(){return(this.lastSeeked||this.pausedAt||this.cursor)+this.getElapsedTime()}},{key:"getElapsedTime",value:function(){return this.ac.currentTime-this.lastPlay}},{key:"setMasterGain",value:function(t){this.ee.emit("mastervolumechange",t)}},{key:"restartPlayFrom",value:function(t,e){return this.stopAnimation(),this.tracks.forEach((function(t){t.scheduleStop()})),Promise.all(this.playoutPromises).then(this.play.bind(this,t,e))}},{key:"play",value:function(t,e){var n=this;clearTimeout(this.resetDrawTimer);var r=this.ac.currentTime,i=this.getTimeSelection(),a=[],o=t||this.pausedAt||this.cursor,s=e;return!s&&i.end!==i.start&&i.end>o&&(s=i.end),this.isPlaying()?this.restartPlayFrom(o,s):(this.effectsGraph&&this.tracks&&this.tracks[0].playout.setMasterEffects(this.effectsGraph),this.tracks.forEach((function(t){a.push(t.schedulePlay(r,o,s,{shouldPlay:n.shouldTrackPlay(t),masterGain:n.masterGain}))})),this.lastPlay=r,this.playoutPromises=a,this.startAnimation(o),Promise.all(this.playoutPromises))}},{key:"pause",value:function(){return this.isPlaying()?(this.pausedAt=this.getCurrentTime(),this.playbackReset()):Promise.all(this.playoutPromises)}},{key:"stop",value:function(){return this.mediaRecorder&&"recording"===this.mediaRecorder.state&&this.mediaRecorder.stop(),this.pausedAt=void 0,this.playbackSeconds=0,this.playbackReset()}},{key:"playbackReset",value:function(){var t=this;return this.lastSeeked=void 0,this.stopAnimation(),this.tracks.forEach((function(e){e.scheduleStop(),e.setState(t.getState())})),this.masterGainNode.disconnect(),this.drawRequest(),Promise.all(this.playoutPromises)}},{key:"rewind",value:function(){var t=this;return this.stop().then((function(){t.scrollLeft=0,t.ee.emit("select",0,0)}))}},{key:"fastForward",value:function(){var t=this;return this.stop().then((function(){t.viewDuration<t.duration?t.scrollLeft=t.duration-t.viewDuration:t.scrollLeft=0,t.ee.emit("select",t.duration,t.duration)}))}},{key:"clear",value:function(){var t=this;return this.stop().then((function(){t.tracks=[],t.soloedTracks=[],t.mutedTracks=[],t.playoutPromises=[],t.cursor=0,t.playbackSeconds=0,t.duration=0,t.scrollLeft=0,t.seek(0,0,void 0)}))}},{key:"record",value:function(){var t=this,e=[];this.mediaRecorder.start(300),this.tracks.forEach((function(n){n.setState("none"),e.push(n.schedulePlay(t.ac.currentTime,0,void 0,{shouldPlay:t.shouldTrackPlay(n)}))})),this.playoutPromises=e}},{key:"startAnimation",value:function(t){var e=this;this.lastDraw=this.ac.currentTime,this.animationRequest=window.requestAnimationFrame((function(){e.updateEditor(t)}))}},{key:"stopAnimation",value:function(){window.cancelAnimationFrame(this.animationRequest),this.lastDraw=void 0}},{key:"seek",value:function(t,e,n){this.isPlaying()?(this.lastSeeked=t,this.pausedAt=void 0,this.restartPlayFrom(t)):(this.setActiveTrack(n||this.tracks[0]),this.pausedAt=t,this.setTimeSelection(t,e),"fill"===this.getSeekStyle()&&(this.playbackSeconds=t))}},{key:"updateEditor",value:function(t){var e=this,n=this.ac.currentTime,r=this.getTimeSelection(),i=t||this.cursor,a=n-this.lastDraw;if(this.isPlaying()){var o=i+a;this.ee.emit("timeupdate",o),this.animationRequest=window.requestAnimationFrame((function(){e.updateEditor(o)})),this.playbackSeconds=o,this.draw(this.render()),this.lastDraw=n}else i+a>=(this.isSegmentSelection()?r.end:this.duration)&&this.ee.emit("finished"),this.stopAnimation(),this.resetDrawTimer=setTimeout((function(){e.pausedAt=void 0,e.lastSeeked=void 0,e.setState(e.getState()),e.playbackSeconds=0,e.draw(e.render())}),0)}},{key:"drawRequest",value:function(){var t=this;window.requestAnimationFrame((function(){t.draw(t.render())}))}},{key:"draw",value:function(t){var e=g()(this.tree,t);this.rootNode=b()(this.rootNode,e),this.tree=t,this.viewDuration=S(this.rootNode.clientWidth-this.controls.width,this.samplesPerPixel,this.sampleRate)}},{key:"getTrackRenderData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={height:this.waveHeight,resolution:this.samplesPerPixel,sampleRate:this.sampleRate,controls:this.controls,isActive:!1,timeSelection:this.getTimeSelection(),playlistLength:this.duration,playbackSeconds:this.playbackSeconds,colors:this.colors,barWidth:this.barWidth,barGap:this.barGap};return e()({},t,n)}},{key:"isActiveTrack",value:function(t){var e=this.getActiveTrack();return!this.isSegmentSelection()||e===t}},{key:"renderAnnotations",value:function(){return this.annotationList.render()}},{key:"renderTimeScale",value:function(){var t=this.controls.show?this.controls.width:0;return new Q(this.duration,this.scrollLeft,this.samplesPerPixel,this.sampleRate,t,this.colors).render()}},{key:"renderTrackSection",value:function(){var t=this,e=this.tracks.map((function(e){var n=t.collapsedTracks.indexOf(e)>-1;return e.render(t.getTrackRenderData({isActive:t.isActiveTrack(e),shouldPlay:t.shouldTrackPlay(e),soloed:t.soloedTracks.indexOf(e)>-1,muted:t.mutedTracks.indexOf(e)>-1,collapsed:n,height:n?t.collapsedWaveHeight:t.waveHeight,barGap:t.barGap,barWidth:t.barWidth}))}));return m()("div.playlist-tracks",{attributes:{style:"overflow: auto;"},onscroll:function(e){t.scrollLeft=S(e.target.scrollLeft,t.samplesPerPixel,t.sampleRate),t.ee.emit("scroll")},hook:new K(this)},e)}},{key:"render",value:function(){var t=[];return this.showTimescale&&t.push(this.renderTimeScale()),t.push(this.renderTrackSection()),this.annotationList.length&&t.push(this.renderAnnotations()),m()("div.playlist",{attributes:{style:"overflow: hidden; position: relative;"}},t)}},{key:"getInfo",value:function(){var t=[];return this.tracks.forEach((function(e){t.push(e.getTrackDetails())})),{tracks:t,effects:this.effectsGraph}}}]),t}();function Ut(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s()();if(void 0===t.container)throw new Error("DOM element container must be given.");var r={samplesPerPixel:4096,mono:!0,fadeType:"logarithmic",exclSolo:!1,timescale:!1,controls:{show:!1,width:150,widgets:{muteOrSolo:!0,volume:!0,stereoPan:!0,collapse:!0,remove:!0}},colors:{waveOutlineColor:"white",timeColor:"grey",fadeColor:"black"},seekStyle:"line",waveHeight:128,collapsedWaveHeight:30,barWidth:1,barGap:0,state:"cursor",zoomLevels:[512,1024,2048,4096],annotationList:{annotations:[],controls:[],editable:!1,linkEndpoints:!1,isContinuousPlay:!1},isAutomaticScroll:!1},i=e()({},t,r),o=i.zoomLevels.indexOf(i.samplesPerPixel);if(-1===o)throw new Error("initial samplesPerPixel must be included in array zoomLevels");var u=new Dt,c=i.ac||new AudioContext;u.setAudioContext(c),u.setSampleRate(i.sampleRate||c.sampleRate),u.setSamplesPerPixel(i.samplesPerPixel),u.setEventEmitter(n),u.setUpEventEmitter(),u.setTimeSelection(0,0),u.setState(i.state),u.setControlOptions(i.controls),u.setWaveHeight(i.waveHeight),u.setCollapsedWaveHeight(i.collapsedWaveHeight),u.setColors(i.colors),u.setZoomLevels(i.zoomLevels),u.setZoomIndex(o),u.setMono(i.mono),u.setExclSolo(i.exclSolo),u.setShowTimeScale(i.timescale),u.setSeekStyle(i.seekStyle),u.setAnnotations(i.annotationList),u.setBarGap(i.barGap),u.setBarWidth(i.barWidth),u.isAutomaticScroll=i.isAutomaticScroll,u.isContinuousPlay=i.isContinuousPlay,u.linkedEndpoints=i.linkedEndpoints,i.effects&&u.setEffects(i.effects);var l=u.render(),f=a()(l);return i.container.appendChild(f),u.tree=l,u.rootNode=f,u}function Nt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s()();return Ut(t,e)}})(),WaveformPlaylist=r})();